var Io=Object.defineProperty,Po=Object.defineProperties;var Lo=Object.getOwnPropertyDescriptors;var xr=Object.getOwnPropertySymbols;var Fo=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable;var Cr=(n,e,t)=>e in n?Io(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||(e={}))Fo.call(e,t)&&Cr(n,t,e[t]);if(xr)for(var t of xr(e))bo.call(e,t)&&Cr(n,t,e[t]);return n},B=(n,e)=>Po(n,Lo(e));const Bo=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}};Bo();var Sr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},y={};function O(n){throw Error(`Minified Lexical error #${n}; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Ko=RegExp("^[^A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF]*[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]"),Wo=RegExp("^[^\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]*[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF]"),Qe={bold:1,code:16,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Or={center:2,justify:4,left:1,right:3},zo={inert:3,normal:0,segmented:2,token:1},nt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Uo=nt&&"documentMode"in document?document.documentMode:null,ae=nt&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Wn=nt&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Go=nt&&"InputEvent"in window&&!Uo?"getTargetRanges"in new window.InputEvent("input"):!1,Ho=nt&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Yo=nt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;let ri=0;const jo=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function ii(n,e,t){const r=n.getRootElement();try{var i;if(i=r!==null&&r.contains(e)&&r.contains(t)&&e!==null){const o=document.activeElement,s=o!==null?o.nodeName:null;i=!Z(mn(e))||s!=="INPUT"&&s!=="TEXTAREA"}return i&&oi(e)===n}catch{return!1}}function oi(n){for(;n!=null;){const e=n.__lexicalEditor;if(e!=null&&!e.isReadOnly())return e;n=n.parentNode}return null}function Se(n){return n.isToken()||n.isInert()}function rn(n){for(;n!=null;){if(n.nodeType===3)return n;n=n.firstChild}return null}function si(n,e,t){return e=Qe[e],n&e&&(t===null||(t&e)===0)?n^e:t===null||t&e?n|e:n}function li(n){return x(n)||Nn(n)||Z(n)}function Zt(n){var e=n.getParent();if(e!==null){e=e.getWritable().__children;const t=e.indexOf(n.__key);t===-1&&O(16),je(n),e.splice(t,1)}}function Je(n){99<St&&O(26);var e=n.getLatest(),t=e.__parent,r=me();const i=z(),o=r._nodeMap;if(r=i._dirtyElements,t!==null)e:for(;t!==null;){if(r.has(t))break e;const s=o.get(t);if(s===void 0)break;r.set(t,!1),t=s.__parent}e=e.__key,i._dirtyType=1,N(n)?r.set(e,!0):i._dirtyLeaves.add(e)}function je(n){const e=n.getPreviousSibling();n=n.getNextSibling(),e!==null&&Je(e),n!==null&&Je(n)}function X(n){F();var e=z();const t=e._compositionKey;e._compositionKey=n,t!==null&&(e=W(t),e!==null&&e.getWritable()),n!==null&&(n=W(n),n!==null&&n.getWritable())}function W(n,e){return n=(e||me())._nodeMap.get(n),n===void 0?null:n}function ai(n,e){const t=z();return n=n["__lexicalKey_"+t._key],n!==void 0?W(n,e):null}function mn(n,e){for(;n!=null;){const t=ai(n,e);if(t!==null)return t;n=n.parentNode}return null}function ui(n){const e=Object.assign({},n._decorators);return n._pendingDecorators=e}function Ar(n){return n.read(()=>wt().getTextContent())}function Vo(n,e){ce(n,()=>{var t=me();if(!t.isEmpty())if(e==="root")wt().markDirty();else{t=t._nodeMap;for(const[,r]of t)r.markDirty()}},n._pendingEditorState===null?{tag:"history-merge"}:void 0)}function wt(){return me()._nodeMap.get("root")}function sr(n){me()._selection=n}function Yt(n){var e=z(),t;e:{for(t=n;t!=null;){const r=t["__lexicalKey_"+e._key];if(r!==void 0){t=r;break e}t=t.parentNode}t=null}return t===null?(e=e.getRootElement(),n===e?W("root"):null):W(t)}function lr(n){const e=[];for(;n!==null;)e.push(n),n=n._parentEditor;return e}function di(n,e){if(n=window.getSelection(),n!==null){var t=n.anchorNode,{anchorOffset:r,focusOffset:i}=n;if(t!==null&&t.nodeType===3&&(n=mn(t),x(n))){t=t.nodeValue;const o=e!==null&&e.data;if(t==="\u200B"&&o){const s=o.length;t=o,i=r=s}ar(n,t,r,i,e!==null)}}}function ar(n,e,t,r,i){let o=n;if(o.isAttached()&&(i||!o.isDirty())){var s=o.isComposing();if(n=e,(s||i)&&e[e.length-1]==="\u200B"&&(n=e.slice(0,-1)),e=o.getTextContent(),i||n!==e)if(n==="")if(X(null),Ho||Yo)o.remove();else{const l=z();setTimeout(()=>{l.update(()=>{o.remove()})},20)}else i=o.getParent(),e=Vi(),Se(o)||z()._compositionKey!==null&&!s||i!==null&&D(e)&&!i.canInsertTextBefore()&&e.anchor.offset===0?o.markDirty():(s=U(),D(s)&&t!==null&&r!==null&&(s.setTextNodeRange(o,t,o,r),o.isSegmented()&&(t=o.getTextContent(),t=ie(t),o.replace(t),o=t)),o.setTextContent(n))}}function ci(n,e,t){var r=n.anchor;const i=n.focus;var o=r.getNode(),s=window.getSelection();s=s!==null?s.anchorNode:null;const l=r.key,a=z().getElementByKey(l);return(e=l!==i.key||!x(o)||r.offset!==i.offset&&!o.isComposing()||(t||o.isDirty())&&1<e.length||a!==null&&!o.isComposing()&&s!==rn(a)||o.getFormat()!==n.format)||(o.isSegmented()?e=!0:n.isCollapsed()?(e=n.anchor.offset,t=o.getParentOrThrow(),r=o.isToken(),n=e===0&&(!o.canInsertTextBefore()||!t.canInsertTextBefore()||r),o=o.getTextContentSize()===e&&(!o.canInsertTextBefore()||!t.canInsertTextBefore()||r),e=n||o):e=!1),e}function Qt(n,e){var t=n[e];return typeof t=="string"?(t=t.split(" "),n[e]=t):t}function ur(n,e,t,r,i){t.size!==0&&(t=r.__type,r=r.__key,e=e.get(t),e===void 0&&O(66),e=e.klass,t=n.get(e),t===void 0&&(t=new Map,n.set(e,t)),t.has(r)||t.set(r,i))}function wr(n,e,t){const r=n.getParent();let i=t;return r!==null&&(e&&t===0?(i=n.getIndexWithinParent(),n=r):e||t!==n.getChildrenSize()||(i=n.getIndexWithinParent()+1,n=r)),n.getChildAtIndex(e?i-1:i)}function gi(n,e){var t=n.offset;return n.type==="element"?(n=n.getNode(),wr(n,e,t)):(n=n.getNode(),e&&t===0||!e&&t===n.getTextContentSize()?(t=e?n.getPreviousSibling():n.getNextSibling(),t===null?wr(n.getParentOrThrow(),e,n.getIndexWithinParent()+(e?0:1)):t):null)}function fi(){var n=window.event;return n=n&&n.inputType,n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function hi(n,e,t,r,i){n=n.__children;const o=n.length;for(let s=0;s<o;s++){const l=n[s],a=r.get(l);a!==void 0&&a.__parent===e&&(N(a)&&hi(a,l,t,r,i),t.has(l)||i.delete(l),r.delete(l))}}function Xo(n,e,t,r){n=n._nodeMap,e=e._nodeMap;for(const i of t){const o=e.get(i);o===void 0||o.isAttached()||(n.has(i)||t.delete(i),e.delete(i))}for(const[i]of r)t=e.get(i),t===void 0||t.isAttached()||(N(t)&&hi(t,i,n,e,r),n.has(i)||r.delete(i),e.delete(i))}function $r(n,e){const t=n.__mode,r=n.__format;n=n.__style;const i=e.__mode,o=e.__format;return e=e.__style,(t===null||t===i)&&(r===null||r===o)&&(n===null||n===e)}function kr(n,e){const t=n.mergeWithSibling(e),r=z()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function pi(n){if(n.__text===""&&n.isSimpleText()&&!n.isUnmergeable())n.remove();else{for(var e;(e=n.getPreviousSibling())!==null&&x(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{$r(e,n)&&(n=kr(e,n));break}for(var t;(t=n.getNextSibling())!==null&&x(t)&&t.isSimpleText()&&!t.isUnmergeable();)if(t.__text==="")t.remove();else{$r(n,t)&&kr(n,t);break}}}function dr(n,e,t,r,i={originalSelection:null}){var o=n.__type,s=t._nodes.get(o);s===void 0&&O(24);for(var l in n)if(o=n[l],o!=null&&typeof o=="object"&&(o=o.editorState,o!=null)){var a=Ji();a._nodes=t._nodes,a._parentEditor=t._parentEditor,a._pendingEditorState=Wi(o,a),n[l]=a}if(l=s.klass,s=n.__key,n.__key=void 0,l=l.clone(n),n.__key=s,o=l.__key,ee(l)&&me()._nodeMap.set("root",l),l.__parent=r,N(l)){for(r=n.__children,a=0;a<r.length;a++){var d=e.get(r[a]);d!==void 0&&(d=dr(d,e,t,o,i).__key,l.__children.push(d))}l.__indent=n.__indent,l.__format=n.__format,l.__dir=n.__dir}else x(l)&&(l.__format=n.__format,l.__style=n.__style,l.__mode=n.__mode,l.__detail=n.__detail);return e=i!=null?i.originalSelection:void 0,e!=null&&(n=i.remappedSelection,e.type==="range"?(t=e.anchor,e=e.focus,n!=null||s!==t.key&&s!==e.key||(i.remappedSelection=n={anchor:L({},t),focus:L({},e),type:"range"}),n!=null&&n.type==="range"&&(s===t.key&&(n.anchor.key=o),s===e.key&&(n.focus.key=o))):e.type==="node"?(e=e.nodes,s=e.indexOf(s),s!==-1&&(n==null&&(i.remappedSelection=n={nodes:[...e],type:"node"}),n.type==="node"&&n.nodes.splice(s,1,o))):e.type==="grid"&&(t=e.gridKey,r=e.anchorCellKey,a=e.focusCellKey,n!=null||t!==s&&t!==r&&t!==a||(i.remappedSelection=n=B(L({},e),{type:"grid"})),n!=null&&n.type==="grid"&&(t===s&&(n.gridKey=o),r===s&&(n.anchorCellKey=o),a===s&&(n.focusCellKey=o)))),l}const _i={},mi={},yt={},on={},zn={},be={},cr={},Un={},Tt={},Et={},we={},gr={},fr={},yi={},Ti={},Ei={},vi={},sn={},Ni={},xi={},Ci={},Si={},Oi={},Ai={},wi={},$i={},ki={},Ri={},Mi={},Pe=Object.freeze({}),ln=[["keydown",rs],["compositionstart",ts],["compositionend",ns],["input",es],["click",Zo],["cut",Pe],["copy",Pe],["dragstart",Pe],["paste",Pe],["focus",Pe],["blur",Pe]];Go?ln.push(["beforeinput",qo]):ln.push(["drop",Pe]);let yn=0,ft=0,Gn=!1;function Rr(n,e,t){if(Gn){Gn=!1;const{anchorNode:r,focusNode:i}=n;if(r!==null&&i!==null&&r.nodeType===3&&i.nodeType===3)return}ce(e,()=>{if(t){var r=U();if(D(r)&&r.isCollapsed()){n.type==="Range"&&(r.dirty=!0);var i=r.anchor;i.type==="text"?(i=i.getNode(),r.format=i.getFormat()):i.type==="element"&&(r.format=0)}C(e,_i,void 0)}else sr(null)})}function Zo(n,e){ce(e,()=>{const t=U();if(D(t)){var r=t.anchor;r.type==="element"&&r.offset===0&&t.isCollapsed()&&wt().getChildrenSize()===1&&r.getNode().getTopLevelElementOrThrow().isEmpty()&&(r=e.getEditorState()._selection,r!==null&&t.is(r)&&(window.getSelection().removeAllRanges(),t.dirty=!0))}C(e,mi,n)})}function Qo(n,e){e.getTargetRanges&&(e=e.getTargetRanges()[0])&&n.applyDOMRange(e)}function Jo(n,e){return n!==e||N(n)||N(e)||!Se(n)||!Se(e)}function qo(n,e){const t=n.inputType;if(!(t==="deleteCompositionText"||Wn&&fi()))if(t==="insertCompositionText"){const r=n.data;r&&ce(e,()=>{var i=U();if(D(i)){const o=i.anchor,s=o.getNode(),l=s.getPreviousSibling();o.offset===0&&x(s)&&x(l)&&s.getTextContent()===" "&&l.getFormat()!==i.format&&(i=l.getTextContent(),r.indexOf(i)===0&&(i=r.slice(i.length),C(e,be,i),setTimeout(()=>{ce(e,()=>{s.select()})},30)))}})}else ce(e,()=>{const r=U();if(D(r))if(t==="deleteContentBackward")X(null),n.preventDefault(),yn=0,C(e,yt,!0),setTimeout(()=>{e.update(()=>{X(null)})},30);else{var i=n.data;r.dirty||!r.isCollapsed()||ee(r.anchor.getNode())||Qo(r,n);var o=r.focus,s=r.anchor.getNode();if(o=o.getNode(),t==="insertText")i===`
`?(n.preventDefault(),C(e,on,void 0)):i===`

`?(n.preventDefault(),C(e,zn,void 0)):i==null&&n.dataTransfer?(i=n.dataTransfer.getData("text/plain"),n.preventDefault(),r.insertRawText(i)):i!=null&&ci(r,i,!0)&&(n.preventDefault(),C(e,be,i));else switch(n.preventDefault(),t){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":C(e,be,n);break;case"insertFromComposition":X(null),C(e,be,n);break;case"insertLineBreak":X(null),C(e,on,void 0);break;case"insertParagraph":X(null),C(e,zn,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":C(e,cr,n);break;case"deleteByComposition":Jo(s,o)&&C(e,Un,void 0);break;case"deleteByDrag":case"deleteByCut":C(e,Un,void 0);break;case"deleteContent":C(e,yt,!1);break;case"deleteWordBackward":C(e,Tt,!0);break;case"deleteWordForward":C(e,Tt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":C(e,Et,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":C(e,Et,!1);break;case"formatStrikeThrough":C(e,we,"strikethrough");break;case"formatBold":C(e,we,"bold");break;case"formatItalic":C(e,we,"italic");break;case"formatUnderline":C(e,we,"underline");break;case"historyUndo":C(e,gr,void 0);break;case"historyRedo":C(e,fr,void 0)}}})}function es(n,e){n.stopPropagation(),ce(e,()=>{var t=U();const r=n.data;r!=null&&D(t)&&ci(t,r,!1)?(C(e,be,r),e._compositionKey!==null&&(yn=0,X(null))):di(e,null),F(),t=z(),Gi(t)})}function ts(n,e){ce(e,()=>{const t=U();if(D(t)&&!e.isComposing()){const r=t.anchor;X(r.key),(n.timeStamp<yn+30||r.type==="element"||!t.isCollapsed()||t.anchor.getNode().getFormat()!==t.format)&&C(e,be," ")}})}function ns(n,e){ce(e,()=>{var t=e._compositionKey;X(null);var r=n.data;if(t!==null&&r!=null){if(r===""){r=W(t),t=rn(e.getElementByKey(t)),t!==null&&x(r)&&ar(r,t.nodeValue,null,null,!0);return}if(r[r.length-1]===`
`&&(t=U(),D(t))){r=t.focus,t.anchor.set(r.key,r.offset,r.type),C(e,sn,null);return}}di(e,n)})}function rs(n,e){if(yn=n.timeStamp,!e.isComposing()){var{keyCode:t,shiftKey:r,ctrlKey:i,metaKey:o,altKey:s}=n;if(t!==39||i||o||s)if(t!==37||i||o||s)if(t!==38||i||o)if(t!==40||i||o)if(t===13&&r)C(e,sn,n);else if(ae&&i&&t===79)n.preventDefault(),C(e,on,!0);else if(t!==13||r){var l=ae?s||o?!1:t===8||t===72&&i:i||s||o?!1:t===8;l?t===8?C(e,Ni,n):(n.preventDefault(),C(e,yt,!0)):t===27?C(e,xi,n):(l=ae?r||s||o?!1:t===46||t===68&&i:i||s||o?!1:t===46,l?t===46?C(e,Ci,n):(n.preventDefault(),C(e,yt,!1)):t===8&&(ae?s:i)?(n.preventDefault(),C(e,Tt,!0)):t===46&&(ae?s:i)?(n.preventDefault(),C(e,Tt,!1)):ae&&o&&t===8?(n.preventDefault(),C(e,Et,!0)):ae&&o&&t===46?(n.preventDefault(),C(e,Et,!1)):t===66&&!s&&(ae?o:i)?(n.preventDefault(),C(e,we,"bold")):t===85&&!s&&(ae?o:i)?(n.preventDefault(),C(e,we,"underline")):t===73&&!s&&(ae?o:i)?(n.preventDefault(),C(e,we,"italic")):t!==9||s||i||o?t===90&&!r&&(ae?o:i)?(n.preventDefault(),C(e,gr,void 0)):(l=ae?t===90&&o&&r:t===89&&i||t===90&&i&&r,l&&(n.preventDefault(),C(e,fr,void 0))):C(e,Si,n))}else C(e,sn,n);else C(e,vi,n);else C(e,Ei,n);else C(e,Ti,n);else C(e,yi,n);(i||r||s||o)&&C(e,Mi,n)}}function Di(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const Ve=new Map;function Ii(){const n=window.getSelection(),e=oi(n.anchorNode);if(e!==null){var t=lr(e);t=t[t.length-1];var r=t._key,i=Ve.get(r),o=i||t;o!==e&&Rr(n,o,!1),Rr(n,e,!0),e!==t?Ve.set(r,e):i&&Ve.delete(r)}}function is(n,e){ft===0&&n.ownerDocument.addEventListener("selectionchange",Ii),ft++,n.__lexicalEditor=e;const t=Di(n);for(let r=0;r<ln.length;r++){const[i,o]=ln[r],s=typeof o=="function"?l=>{e.isReadOnly()||o(l,e)}:l=>{if(!e.isReadOnly())switch(i){case"cut":return C(e,$i,l);case"copy":return C(e,wi,l);case"paste":return C(e,cr,l);case"dragstart":return C(e,Ai,l);case"focus":return C(e,ki,l);case"blur":return C(e,Ri,l);case"drop":return C(e,Oi,l)}};n.addEventListener(i,s),t.push(()=>{n.removeEventListener(i,s)})}}let J="",q="",Le="",vt,te,Nt,Pi=!1,hr=!1,Tn,Jt=null,Hn,Yn,xt,qe,jn,Ct;function qt(n,e){const t=xt.get(n);if(e!==null){const r=Zn(n);e.removeChild(r)}qe.has(n)||te._keyToDOMMap.delete(n),N(t)&&(n=t.__children,Vn(n,0,n.length-1,null)),t!==void 0&&ur(Ct,Nt,Tn,t,"destroyed")}function Vn(n,e,t,r){for(;e<=t;++e){const i=n[e];i!==void 0&&qt(i,r)}}function ut(n,e){n.setProperty("text-align",e)}function Li(n,e){n.style.setProperty("padding-inline-start",e===0?"":40*e+"px")}function Fi(n,e){n=n.style,e===0?ut(n,""):e===1?ut(n,"left"):e===2?ut(n,"center"):e===3?ut(n,"right"):e===4&&ut(n,"justify")}function en(n,e,t){const r=qe.get(n);r===void 0&&O(42);const i=r.createDOM(vt,te);var o=te._keyToDOMMap;if(i["__lexicalKey_"+te._key]=n,o.set(n,i),x(r)?i.setAttribute("data-lexical-text","true"):Z(r)&&i.setAttribute("data-lexical-decorator","true"),N(r)){n=r.__indent,n!==0&&Li(i,n),n=r.__children;var s=n.length;if(s!==0){o=n,--s;const l=q;q="",Xn(o,0,s,i,null),Bi(r,i),q=l}o=r.__format,o!==0&&Fi(i,o),bi(null,n,i)}else o=r.getTextContent(),Z(r)?(s=r.decorate(te),s!==null&&Ki(n,s),i.contentEditable="false"):x(r)&&(r.isDirectionless()||(q+=o),r.isInert()&&(n=i.style,n.pointerEvents="none",n.userSelect="none",i.contentEditable="false",n.setProperty("-webkit-user-select","none"))),J+=o,Le+=o;return e!==null&&(t!=null?e.insertBefore(i,t):(t=e.__lexicalLineBreak,t!=null?e.insertBefore(i,t):e.appendChild(i))),ur(Ct,Nt,Tn,r,"created"),i}function Xn(n,e,t,r,i){const o=J;for(J="";e<=t;++e)en(n[e],r,i);r.__lexicalTextContent=J,J=o+J}function Mr(n,e){return n=e.get(n[n.length-1]),Nn(n)||Z(n)}function bi(n,e,t){n=n!==null&&(n.length===0||Mr(n,xt)),e=e!==null&&(e.length===0||Mr(e,qe)),n?e||(e=t.__lexicalLineBreak,e!=null&&t.removeChild(e),t.__lexicalLineBreak=null):e&&(e=document.createElement("br"),t.__lexicalLineBreak=e,t.appendChild(e))}function Bi(n,e){var t=e.__lexicalDir;if(e.__lexicalDirTextContent!==q||t!==Jt){const o=q==="";if(o)var r=Jt;else r=q,r=Ko.test(r)?"rtl":Wo.test(r)?"ltr":null;if(r!==t){const s=e.classList,l=vt.theme;var i=t!==null?l[t]:void 0;let a=r!==null?l[r]:void 0;i!==void 0&&(typeof i=="string"&&(i=i.split(" "),i=l[t]=i),s.remove(...i)),r===null||o&&r==="ltr"?e.removeAttribute("dir"):(a!==void 0&&(typeof a=="string"&&(t=a.split(" "),a=l[r]=t),s.add(...a)),e.dir=r),hr||(n.getWritable().__dir=r)}Jt=r,e.__lexicalDirTextContent=q,e.__lexicalDir=r}}function gt(n,e){var t=xt.get(n),r=qe.get(n);t!==void 0&&r!==void 0||O(43);var i=Pi||Yn.has(n)||Hn.has(n);const o=an(te,n);if(t===r&&!i)return N(t)?(r=o.__lexicalTextContent,r!==void 0&&(J+=r,Le+=r),r=o.__lexicalDirTextContent,r!==void 0&&(q+=r)):(r=t.getTextContent(),x(t)&&!t.isDirectionless()&&(q+=r),Le+=r,J+=r),o;if(t!==r&&i&&ur(Ct,Nt,Tn,r,"updated"),r.updateDOM(t,o,vt))return r=en(n,null,null),e===null&&O(44),e.replaceChild(r,o),qt(n,null),r;if(N(t)&&N(r)){if(n=r.__indent,n!==t.__indent&&Li(o,n),n=r.__format,n!==t.__format&&Fi(o,n),n=t.__children,t=r.__children,n!==t||i){var s=n,l=t;i=r,e=q,q="";const m=J;J="";var a=s.length,d=l.length;if(a===1&&d===1){var u=s[0];if(l=l[0],u===l)gt(u,o);else{var c=Zn(u);l=en(l,null,null),o.replaceChild(l,c),qt(u,null)}}else if(a===0)d!==0&&Xn(l,0,d-1,o,null);else if(d===0)a!==0&&(u=o.__lexicalLineBreak==null,Vn(s,0,a-1,u?null:o),u&&(o.textContent=""));else{const _=a-1;a=d-1;let A=o.firstChild,I=0;for(d=0;I<=_&&d<=a;){var f=s[I];const k=l[d];if(f===k)A=gt(k,o).nextSibling,I++,d++;else{u===void 0&&(u=new Set(s)),c===void 0&&(c=new Set(l));const p=c.has(f),h=u.has(k);p?(h?(f=an(te,k),f===A?A=gt(k,o).nextSibling:(A!=null?o.insertBefore(f,A):o.appendChild(f),gt(k,o)),I++):en(k,o,A),d++):(A=Zn(f).nextSibling,qt(f,o),I++)}}u=I>_,c=d>a,u&&!c?(u=l[a+1],u=u===void 0?null:te.getElementByKey(u),Xn(l,d,a,o,u)):c&&!u&&Vn(s,I,_,o)}o.__lexicalTextContent=J,J=m+J,Bi(i,o),q=e,ee(r)||bi(n,t,o)}}else t=r.getTextContent(),Z(r)?(i=r.decorate(te),i!==null&&Ki(n,i)):x(r)&&!r.isDirectionless()&&(q+=t),J+=t,Le+=t;return!hr&&ee(r)&&r.__cachedText!==Le&&(r=r.getWritable(),r.__cachedText=Le),o}function Ki(n,e){let t=te._pendingDecorators;const r=te._decorators;if(t===null){if(r[n]===e)return;t=ui(te)}t[n]=e}function Zn(n){return n=jn.get(n),n===void 0&&O(45),n}function an(n,e){return n=n._keyToDOMMap.get(e),n===void 0&&O(45),n}let oe=null,ne=null,re=!1,kn=!1,St=0;function F(){re&&O(25)}function me(){return oe===null&&O(27),oe}function z(){return ne===null&&O(28),ne}function Dr(n,e,t){var r=e.__type;const i=n._nodes.get(r);for(i===void 0&&O(23),n=t.get(r),n===void 0&&(n=Array.from(i.transforms),t.set(r,n)),t=n.length,r=0;r<t&&(n[r](e),e.isAttached());r++);}function os(n,e){e=e._dirtyLeaves,n=n._nodeMap;for(const t of e)e=n.get(t),x(e)&&e.isSimpleText()&&!e.isUnmergeable()&&pi(e)}function ss(n,e){const t=e._dirtyLeaves,r=e._dirtyElements;n=n._nodeMap;const i=z()._compositionKey,o=new Map;var s=t;let l=s.size;for(var a=r,d=a.size;0<l||0<d;){if(0<l){e._dirtyLeaves=new Set;for(const u of s)s=n.get(u),x(s)&&s.isSimpleText()&&!s.isUnmergeable()&&pi(s),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Dr(e,s,o),t.add(u);if(s=e._dirtyLeaves,l=s.size,0<l){St++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(const u of a)a=u[0],d=u[1],a!=="root"&&d&&(s=n.get(a),s!==void 0&&s!==void 0&&s.__key!==i&&s.isAttached()&&Dr(e,s,o),r.set(a,d));s=e._dirtyLeaves,l=s.size,a=e._dirtyElements,d=a.size,St++}e._dirtyLeaves=t,e._dirtyElements=r}function Wi(n,e){var t=new Map;t=new Dt(t);const r={originalSelection:n._selection},i=oe,o=re,s=ne;oe=t,re=!1,ne=e;try{const l=new Map(n._nodeMap),a=l.get("root");dr(a,l,e,null,r)}finally{oe=i,re=o,ne=s}return t._selection=gs(r.remappedSelection||r.originalSelection),t}function Be(n){var e=n._pendingEditorState,t=n._rootElement;if(t!==null&&e!==null){var r=n._editorState,i=r._selection,o=e._selection,s=n._dirtyType!==0;n._pendingEditorState=null,n._editorState=e;var l=oe,a=re,d=ne,u=n._updating;ne=n,oe=e,re=!1,n._updating=!0;try{var c=n._observer;let P=null;if(s&&c!==null){var f=n._dirtyType,m=n._dirtyElements,_=n._dirtyLeaves;c.disconnect();try{q=Le=J="",Pi=f===2,Jt=null,te=n,vt=n._config,Nt=n._nodes,Tn=te._listeners.mutation,Hn=m,Yn=_,xt=r._nodeMap,qe=e._nodeMap,hr=e._readOnly,jn=new Map(n._keyToDOMMap);const G=new Map;Ct=G,gt("root",null),Ct=jn=vt=qe=xt=Yn=Hn=Nt=te=void 0,P=G}finally{c.observe(t,{characterData:!0,childList:!0,subtree:!0})}}const w=window.getSelection();if(!n._readOnly&&w!==null&&(s||o===null||o.dirty)){c=w;const G=c.anchorNode,Y=c.focusNode,Ee=c.anchorOffset,Wt=c.focusOffset,De=document.activeElement,xe=n._rootElement;if(!n._updateTags.has("collaboration")||De===xe)if(D(o)){var A=o.anchor,I=o.focus,k=I.key,p=an(n,A.key),h=an(n,k),T=A.offset,E=I.offset;if(i=p,k=h,A.type==="text"&&(i=rn(p)),I.type==="text"&&(k=rn(h)),i!==null&&k!==null)if(Ee!==T||Wt!==E||G!==i||Y!==k||c.type==="Range"&&o.isCollapsed())try{if(c.setBaseAndExtent(i,T,k,E),o.isCollapsed()&&xe===De){const Ce=i.nodeType===3?i.parentNode:i;if(Ce!==null){const Ie=Ce.getBoundingClientRect();if(Ie.bottom>window.innerHeight)Ce.scrollIntoView(!1);else if(0>Ie.top)Ce.scrollIntoView();else if(xe){const j=xe.getBoundingClientRect();Ie.bottom>j.bottom?Ce.scrollIntoView(!1):Ie.top<j.top&&Ce.scrollIntoView()}n._updateTags.add("scroll-into-view")}}Gn=!0}catch{}else xe===null||De!==null&&xe.contains(De)||xe.focus({preventScroll:!0})}else i!==null&&ii(n,G,Y)&&c.removeAllRanges()}var v=P;v!==null&&ls(n,r,e,v)}catch(P){n._onError(P),kn||(Qi(n,null,t,e),Hi(n),n._dirtyType=2,kn=!0,Be(n),kn=!1);return}finally{n._updating=u,oe=l,re=a,ne=d}e._readOnly=!0,t=n._dirtyLeaves,o=n._dirtyElements,l=n._normalizedNodes,a=n._updateTags,s&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),s=n._decorators,d=n._pendingDecorators||s,u=e._nodeMap;for(var S in d)u.has(S)||(d===s&&(d=ui(n)),delete d[S]);if(S=n._pendingDecorators,S!==null&&(n._decorators=S,n._pendingDecorators=null,ht("decorator",n,!0,S)),S=Ar(r),s=Ar(e),S!==s&&ht("textcontent",n,!0,s),ht("update",n,!0,{dirtyElements:o,dirtyLeaves:t,editorState:e,normalizedNodes:l,prevEditorState:r,tags:a}),e=n._deferred,n._deferred=[],e.length!==0){r=n._updating,n._updating=!0;try{for(S=0;S<e.length;S++)e[S]()}finally{n._updating=r}}if(e=n._updates,e.length!==0){const[P,w]=e.shift();zi(n,P,w)}}}function ls(n,e,t,r){n._listeners.mutation.forEach((i,o)=>{i=r.get(i),i!==void 0&&o(i)})}function ht(n,e,t,...r){const i=e._updating;e._updating=t;try{const o=Array.from(e._listeners[n]);for(n=0;n<o.length;n++)o[n](...r)}finally{e._updating=i}}function C(n,e,t){if(n._updating===!1||ne!==n){let o=!1;return n.update(()=>{o=C(n,e,t)}),o}const r=lr(n);for(let o=4;0<=o;o--)for(let s=0;s<r.length;s++){var i=r[s]._commands.get(e);if(i!==void 0&&(i=i[o],i!==void 0)){for(const l of i)if(l(t,n)===!0)return!0}}return!1}function Ir(n){const e=n._updates;let t=!1;for(;e.length!==0;){const[r,i]=e.shift();let o,s;i!==void 0&&(o=i.onUpdate,s=i.tag,i.skipTransforms&&(t=!0),o&&n._deferred.push(o),s&&n._updateTags.add(s)),r()}return t}function zi(n,e,t){const r=n._updateTags;var i=!1;if(t!==void 0){var o=t.onUpdate;i=t.tag,i!=null&&r.add(i),i=t.skipTransforms}o&&n._deferred.push(o),t=n._editorState,o=n._pendingEditorState;let s=!1;o===null&&(o=n._pendingEditorState=new Dt(new Map(t._nodeMap)),s=!0);const l=oe,a=re,d=ne,u=n._updating;oe=o,re=!1,n._updating=!0,ne=n;try{s&&(o._selection=cs(n));const c=n._compositionKey;e(),i=Ir(n),fs(o,n),n._dirtyType!==0&&(i?os(o,n):ss(o,n),Ir(n),Xo(t,o,n._dirtyLeaves,n._dirtyElements)),c!==n._compositionKey&&(o._flushSync=!0);const f=o._selection;if(D(f)){const m=o._nodeMap,_=f.focus.key;m.get(f.anchor.key)!==void 0&&m.get(_)!==void 0||O(30)}else Rt(f)&&f._nodes.size===0&&(o._selection=null)}catch(c){n._onError(c),n._pendingEditorState=t,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),Be(n);return}finally{oe=l,re=a,ne=d,n._updating=u,St=0}n._dirtyType!==0||hs(o,n)?o._flushSync?(o._flushSync=!1,Be(n)):s&&jo(()=>{Be(n)}):(o._flushSync=!1,s&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function ce(n,e,t){n._updating?n._updates.push([e,t]):zi(n,e,t)}let Qn=!1,pr=0;function as(n){pr=n.timeStamp}function Rn(n,e,t){return e.__lexicalLineBreak===n||n["__lexicalKey_"+t._key]!==void 0}function us(n){return n.getEditorState().read(()=>{const e=U();return e!==null?e.clone():null})}function Ui(n,e,t){Qn=!0;const r=100<performance.now()-pr;try{ce(n,()=>{var i=new Map,o=n.getRootElement(),s=n._editorState;let l=!1,a="";for(var d=0;d<e.length;d++){var u=e[d],c=u.type,f=u.target,m=mn(f,s);if(!Z(m)){if(c==="characterData"){if(r&&f.nodeType===3&&x(m)&&m.isAttached()){u=window.getSelection();var _=c=null;u!==null&&u.anchorNode===f&&(c=u.anchorOffset,_=u.focusOffset),ar(m,f.nodeValue,c,_,!1)}}else if(c==="childList"){for(l=!0,c=u.addedNodes,_=0;_<c.length;_++){var A=c[_],I=ai(A),k=A.parentNode;k==null||I!==null||A.nodeName==="BR"&&Rn(A,k,n)||(Wn&&(I=A.innerText||A.nodeValue)&&(a+=I),k.removeChild(A))}if(u=u.removedNodes,c=u.length,0<c){for(_=0,A=0;A<c;A++)k=u[A],k.nodeName==="BR"&&Rn(k,f,n)&&(f.appendChild(k),_++);c!==_&&(f===o&&(m=s._nodeMap.get("root")),i.set(f,m))}}}}if(0<i.size)for(const[p,h]of i)if(N(h))for(i=h.__children,o=p.firstChild,s=0;s<i.length;s++)d=n.getElementByKey(i[s]),d!==null&&(o==null?(p.appendChild(d),o=d):o!==d&&p.replaceChild(d,o),o=o.nextSibling);else x(h)&&h.markDirty();if(i=t.takeRecords(),0<i.length){for(o=0;o<i.length;o++)for(d=i[o],s=d.addedNodes,d=d.target,m=0;m<s.length;m++)f=s[m],u=f.parentNode,u==null||f.nodeName!=="BR"||Rn(f,d,n)||u.removeChild(f);t.takeRecords()}i=U()||us(n),i!==null&&(l&&(i.dirty=!0,sr(i)),Wn&&fi()&&i.insertRawText(a))})}finally{Qn=!1}}function Gi(n){const e=n._observer;if(e!==null){const t=e.takeRecords();Ui(n,t,e)}}function Hi(n){pr===0&&window.addEventListener("textInput",as,!0),n._observer=new MutationObserver((e,t)=>{Ui(n,e,t)})}class ds{constructor(e,t,r){this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),r=e.getNode();const i=this.offset;return e=e.offset,N(t)&&(t=t.getDescendantByIndex(i)),N(r)&&(r=r.getDescendantByIndex(e)),t===r?i<e:t.isBefore(r)}getCharacterOffset(){return this.type==="text"?this.offset:0}getNode(){const e=W(this.key);return e===null&&O(5),e}set(e,t,r){const i=U(),o=this.key;this.key=e,this.offset=t,this.type=r,re||(z()._compositionKey===o&&X(e),i===null||i.anchor!==this&&i.focus!==this||(i.dirty=!0))}}function ge(n,e,t){return new ds(n,e,t)}function Mn(n,e){const t=e.__key;let r=n.offset,i="element";x(e)&&(i="text",e=e.getTextContentSize(),r>e&&(r=e)),n.set(t,r,i)}function Pr(n,e){if(N(e)){const t=e.getLastDescendant();N(t)||x(t)?Mn(n,t):Mn(n,e)}else x(e)&&Mn(n,e)}function Lr(n,e,t){const r=n.getNode(),i=r.getChildAtIndex(n.offset),o=ie(),s=ee(r)?et().append(o):o;o.setFormat(t),i===null?r.append(s):i.insertBefore(s),n.is(e)&&e.set(o.__key,0,"text"),n.set(o.__key,0,"text")}function Ae(n,e,t,r){n.key=e,n.offset=t,n.type=r}class $t{constructor(e){this.dirty=!1,this._nodes=e}is(e){if(!Rt(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(i=>r.has(i))}add(e){this.dirty=!0,this._nodes.add(e)}delete(e){this.dirty=!0,this._nodes.delete(e)}clear(){this.dirty=!0,this._nodes.clear()}has(e){return this._nodes.has(e)}clone(){return new $t(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}getNodes(){var e=this._nodes;const t=[];for(const r of e)e=W(r),e!==null&&t.push(e);return t}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}}function D(n){return n instanceof ze}class kt{constructor(e,t,r){this.gridKey=e,this.anchorCellKey=t,this.anchor=ge(t,0,"element"),this.focusCellKey=r,this.focus=ge(r,0,"element"),this.dirty=!1}is(e){return En(e)?this.gridKey===e.gridKey&&this.anchorCellKey===e.anchorCellKey&&this.focusCellKey===e.focusCellKey:!1}set(e,t,r){this.dirty=!0,this.gridKey=e,this.anchorCellKey=t,this.focusCellKey=r}clone(){return new kt(this.gridKey,this.anchorCellKey,this.focusCellKey)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}extract(){return this.getNodes()}insertRawText(){}insertText(){}getShape(){var e=W(this.anchorCellKey);e||O(74);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var r=W(this.focusCellKey);r||O(75);var i=r.getIndexWithinParent();const o=r.getParentOrThrow().getIndexWithinParent();return r=Math.min(t,i),t=Math.max(t,i),i=Math.min(e,o),e=Math.max(e,o),{fromX:Math.min(r,t),fromY:Math.min(i,e),toX:Math.max(r,t),toY:Math.max(i,e)}}getNodes(){const e=new Set,{fromX:t,fromY:r,toX:i,toY:o}=this.getShape();var s=W(this.gridKey);no(s)||O(76),e.add(s),s=s.getChildren();for(let d=r;d<=o;d++){var l=s[d];e.add(l),io(l)||O(77),l=l.getChildren();for(let u=t;u<=i;u++){var a=l[u];for(eo(a)||O(78),e.add(a),a=a.getChildren();0<a.length;){const c=a.shift();e.add(c),N(c)&&a.unshift(...c.getChildren())}}}return Array.from(e)}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}}function En(n){return n instanceof kt}class ze{constructor(e,t,r){this.anchor=e,this.focus=t,this.dirty=!1,this.format=r}is(e){return D(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this.anchor,t=this.focus;let r=e.getNode(),i=t.getNode();return N(r)&&(r=r.getDescendantByIndex(e.offset)),N(i)&&(i=i.getDescendantByIndex(t.offset)),r.is(i)?N(r)?[]:[r]:r.getNodesBetween(i)}setTextNodeRange(e,t,r,i){Ae(this.anchor,e.__key,t,"text"),Ae(this.focus,r.__key,i,"text"),this.dirty=!0}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1];var i=this.anchor,o=this.focus;const s=i.isBefore(o);i=i.getCharacterOffset(),o=o.getCharacterOffset();let l="",a=!0;for(let d=0;d<e.length;d++){const u=e[d];if(N(u)&&!u.isInline())a||(l+=`
`),a=!u.isEmpty();else if(a=!1,x(u)){let c=u.getTextContent();u===t?c=u===r?i<o?c.slice(i,o):c.slice(o,i):s?c.slice(i):c.slice(o):u===r&&(c=s?c.slice(0,o):c.slice(0,i)),l+=c}else!Z(u)&&!Nn(u)||u===r&&this.isCollapsed()||(l+=u.getTextContent())}return l}applyDOMRange(e){const t=z(),r=t.getEditorState()._selection;if(e=Yi(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r),e!==null){var[i,o]=e;Ae(this.anchor,i.key,i.offset,i.type),Ae(this.focus,o.key,o.offset,o.type)}}clone(){const e=this.anchor,t=this.focus;return new ze(ge(e.key,e.offset,e.type),ge(t.key,t.offset,t.type),this.format)}toggleFormat(e){this.format=si(this.format,e,null),this.dirty=!0}hasFormat(e){return(this.format&Qe[e])!==0}insertRawText(e){const t=e.split(/\r?\n/);if(t.length===1)this.insertText(e);else{e=[];const r=t.length;for(let i=0;i<r;i++){const o=t[i];o!==""&&e.push(ie(o)),i!==r-1&&e.push(cn())}this.insertNodes(e)}}insertText(e){var t=this.anchor,r=this.focus,i=this.isCollapsed()||t.isBefore(r),o=this.format;i&&t.type==="element"?Lr(t,r,o):i||r.type!=="element"||Lr(r,t,o);var s=this.getNodes(),l=s.length,a=i?r:t;r=(i?t:r).offset;var d=a.offset;t=s[0],x(t)||O(6),i=t.getTextContent().length;var u=t.getParentOrThrow();if(!this.isCollapsed()||r!==i||!t.isSegmented()&&!t.isToken()&&t.canInsertTextAfter()&&u.canInsertTextAfter()){if(!this.isCollapsed()||r!==0||!t.isSegmented()&&!t.isToken()&&t.canInsertTextBefore()&&u.canInsertTextBefore())t.isSegmented()&&r!==i&&(u=ie(t.getTextContent()),t.replace(u),t=u);else if(c=t.getPreviousSibling(),(!x(c)||Se(c)||c.isSegmented())&&(c=ie(),u.canInsertTextBefore()?t.insertBefore(c):u.insertBefore(c)),c.select(),t=c,e!==""){this.insertText(e);return}}else{var c=t.getNextSibling();if((!x(c)||Se(c)||c.isSegmented())&&(c=ie(),u.canInsertTextAfter()?t.insertAfter(c):u.insertAfter(c)),c.select(0,0),t=c,e!==""){this.insertText(e);return}}if(l===1)if(Se(t))e=ie(e),e.select(),t.replace(e);else{if(s=t.getFormat(),r===d&&s!==o)if(t.getTextContent()==="")t.setFormat(o);else{s=ie(e),s.setFormat(o),s.select(),r===0?t.insertBefore(s):([l]=t.splitText(r),l.insertAfter(s)),s.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}t=t.spliceText(r,d-r,e,!0),t.getTextContent()===""?t.remove():t.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)}else{u=s[l-1],o=new Set([...t.getParentKeys(),...u.getParentKeys()]);var f=N(t)?t:t.getParentOrThrow();c=N(u)?u:u.getParentOrThrow(),a.type==="text"&&(d!==0||u.getTextContent()==="")||a.type==="element"&&u.getIndexWithinParent()<d?x(u)&&!Se(u)&&d!==u.getTextContentSize()?(u.isSegmented()&&(a=ie(u.getTextContent()),u.replace(a),u=a),u=u.spliceText(0,d,""),o.add(u.__key)):u.remove():o.add(u.__key),a=c.getChildren(),d=new Set(s);const m=f.is(c);if(c.canBeEmpty()||f===c){for(f=a.length-1;0<=f;f--){const _=a[f];if(_.is(t)||N(_)&&_.isParentOf(t))break;_.isAttached()&&(!d.has(_)||_.is(u)?m||t.insertAfter(_):_.remove())}if(!m)for(a=c,d=null;a!==null;)u=a.getChildren(),c=u.length,(c===0||u[c-1].is(d))&&(o.delete(a.__key),d=a),a=a.getParent()}else f.append(c);for(Se(t)?r===i?t.select():(e=ie(e),e.select(),t.replace(e)):(t=t.spliceText(r,i-r,e,!0),t.getTextContent()===""?t.remove():t.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<l;e++)t=s[e],o.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){const t=this.getNodes(),r=t.length-1;let i=t[0],o=t[r];if(this.isCollapsed())this.toggleFormat(e),X(null);else{for(var s=this.anchor,l=this.focus,a=i.getTextContent().length,d=l.offset,u=0,c=0;c<t.length;c++){var f=t[c];if(x(f)){u=f.getFormatFlags(e,null);break}}var m=s.offset;if(f=(c=s.isBefore(l))?m:d,c=c?d:m,f===i.getTextContentSize()){const _=i.getNextSibling();x(_)&&(f=m=0,i=_,u=i.getFormatFlags(e,null))}if(i.is(o))x(i)&&(s.type==="element"&&l.type==="element"?(i.setFormat(u),i.select(f,c),this.format=u):(f=m>d?d:m,c=m>d?m:d,f!==c&&(f===0&&c===a?(i.setFormat(u),i.select(f,c)):(e=i.splitText(f,c),e=f===0?e[0]:e[1],e.setFormat(u),e.select(0,c-f)),this.format=u)));else for(x(i)&&(f!==0&&([,i]=i.splitText(f)),i.setFormat(u)),s=u,x(o)&&(s=o.getFormatFlags(e,u),u=o.getTextContent().length,c!==0&&(c!==u&&([o]=o.splitText(c)),o.setFormat(s))),u=1;u<r;u++)c=t[u],l=c.__key,x(c)&&l!==i.__key&&l!==o.__key&&!c.isToken()&&(l=c.getFormatFlags(e,s),c.setFormat(l))}}insertNodes(e,t){this.isCollapsed()||this.removeText();var r=this.anchor,i=r.offset,o=r.getNode(),s=o;r.type==="element"&&(s=r.getNode(),r=s.getChildAtIndex(i-1),s=r===null?s:r),r=[];var l=o.getNextSiblings(),a=ee(o)?null:o.getTopLevelElementOrThrow();if(x(o))if(s=o.getTextContent().length,i===0&&s!==0)s=o.getPreviousSibling(),s=s!==null?s:o.getParentOrThrow(),r.push(o);else if(i===s)s=o;else{if(Se(o))return!1;[s,o]=o.splitText(i),r.push(o)}const d=s;r.push(...l),l=e[0];var u=!1;o=null;for(let m=0;m<e.length;m++){const _=e[m];if(N(_)){if(_.is(l)){if(N(s)&&s.isEmpty()&&s.canReplaceWith(_)){s.replace(_),s=_,u=!0;continue}var c=_.getFirstDescendant();if(li(c)){for(c=c.getParentOrThrow();c.isInline();)c=c.getParentOrThrow();u=c.getChildren();var f=u.length;if(N(s))for(let A=0;A<f;A++)o=u[A],s.append(o);else{for(--f;0<=f;f--)o=u[f],s.insertAfter(o);s=s.getParentOrThrow()}if(c.remove(),u=!0,c.is(_))continue}}x(s)&&(a===null&&O(69),s=a)}else u&&!Z(_)&&ee(s.getParent())&&O(7);u=!1,N(s)?(o=_,Z(_)&&_.isTopLevel()?s=s.insertAfter(_):N(_)?(_.canBeEmpty()||!_.isEmpty())&&(ee(s)?(c=s.getChildAtIndex(i),c!==null?c.insertBefore(_):s.append(_),s=_):s=s.insertAfter(_)):(c=s.getFirstChild(),c!==null?c.insertBefore(_):s.append(_),s=_)):!N(_)||Z(s)&&s.isTopLevel()?(o=_,s=s.insertAfter(_)):(s=_.getParentOrThrow(),m--)}if(t&&(x(d)?d.select():(e=s.getPreviousSibling(),x(e)?e.select():(e=s.getIndexWithinParent(),s.getParentOrThrow().select(e,e)))),N(s)){if(e=x(o)?o:s.getLastDescendant(),t||(e===null?s.select():x(e)?e.select():e.selectNext()),r.length!==0)for(t=r.length-1;0<=t;t--)e=r[t],i=e.getParentOrThrow(),N(s)&&!N(e)?(s.append(e),s=e):N(s)||N(e)?N(e)&&!e.canInsertAfter(s)?(a=i.constructor.clone(i),N(a)||O(8),a.append(e),s.insertAfter(a)):s.insertAfter(e):(s.insertBefore(e),s=e),i.isEmpty()&&!i.canBeEmpty()&&i.remove()}else t||(x(s)?s.select():(r=s.getParentOrThrow(),s=s.getIndexWithinParent()+1,r.select(s,s)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,r=[];if(e.type==="text"){var i=e.getNode(),o=i.getNextSiblings().reverse(),s=i.getParentOrThrow(),l=s.isInline(),a=l?s.getTextContentSize():i.getTextContentSize();t===0?o.push(i):(l&&(r=s.getNextSiblings()),t===a||l&&t===i.getTextContentSize()||([,i]=i.splitText(t),o.push(i)))}else{if(s=e.getNode(),ee(s)){o=et(),r=s.getChildAtIndex(t),o.select(),r!==null?r.insertBefore(o):s.append(o);return}o=s.getChildren().slice(t).reverse()}if(i=o.length,t===0&&0<i&&s.isInline())s.getParentOrThrow().insertBefore(et());else if(l=s.insertNewAfter(this),l===null)this.insertLineBreak();else if(N(l))if(a=s.getFirstChild(),t===0&&(s.is(e.getNode())||a&&a.is(e.getNode()))&&0<i)s.insertBefore(l);else{if(s=null,t=r.length,e=l.getParentOrThrow(),0<t)for(a=0;a<t;a++)e.append(r[a]);if(i!==0)for(r=0;r<i;r++)t=o[r],s===null?l.append(t):s.insertBefore(t),s=t;l.canBeEmpty()||l.getChildrenSize()!==0?l.selectStart():(l.selectPrevious(),l.remove())}}insertLineBreak(e){const t=cn();var r=this.anchor;r.type==="element"&&(r=r.getNode(),ee(r)&&this.insertParagraph()),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}extract(){var e=this.getNodes(),t=e.length,r=t-1,i=this.anchor;const o=this.focus;var s=e[0];let l=e[r];var a=i.getCharacterOffset();const d=o.getCharacterOffset();return t===0?[]:t===1?x(s)?(e=a>d?d:a,r=s.splitText(e,a>d?a:d),e=e===0?r[0]:r[1],e!=null?[e]:[]):[s]:(t=i.isBefore(o),x(s)&&(i=t?a:d,i===s.getTextContentSize()?e.shift():i!==0&&([,s]=s.splitText(i),e[0]=s)),x(l)&&(s=l.getTextContent().length,a=t?d:a,a===0?e.pop():a!==s&&([l]=l.splitText(a),e[r]=l)),e)}modify(e,t,r){var i=this.focus,o=this.anchor,s=e==="move";const l=gi(i,t);if(Z(l)&&!l.isIsolated()){var a=t?l.getPreviousSibling():l.getNextSibling();if(!x(a)){e=l.getParentOrThrow(),N(a)?(e=a.__key,a=t?a.getChildrenSize():0):(a=l.getIndexWithinParent(),e=e.__key,t||a++),i.set(e,a,"element"),s&&o.set(e,a,"element");return}}i=window.getSelection(),i.modify(e,t?"backward":"forward",r),0<i.rangeCount&&(t=i.getRangeAt(0),this.applyDOMRange(t),s||i.anchorNode===t.startContainer&&i.anchorOffset===t.startOffset||(s=this.focus,t=this.anchor,i=t.key,o=t.offset,a=t.type,Ae(t,s.key,s.offset,s.type),Ae(s,i,o,a)))}deleteCharacter(e){if(this.isCollapsed()){var t=this.anchor,r=this.focus,i=t.getNode();if(!e&&(t.type==="element"&&t.offset===i.getChildrenSize()||t.type==="text"&&t.offset===i.getTextContentSize())&&(i=i.getNextSibling()||i.getParentOrThrow().getNextSibling(),N(i)&&!i.canExtractContents()))return;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&t.offset===0&&(t.type==="element"?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}else{var o=r.type==="text"?r.getNode():null;if(i=t.type==="text"?t.getNode():null,o!==null&&o.isSegmented()){if(t=r.offset,r=o.getTextContentSize(),o.is(i)||e&&t!==r||!e&&t!==0){Fr(o,e,t);return}}else if(i!==null&&i.isSegmented()&&(t=t.offset,r=i.getTextContentSize(),i.is(o)||e&&t!==0||!e&&t!==r)){Fr(i,e,t);return}if(i=this.anchor,o=this.focus,t=i.getNode(),r=o.getNode(),t===r&&i.type==="text"&&o.type==="text"){var s=i.offset,l=o.offset;const a=s<l;r=a?s:l,l=a?l:s,s=l-1,r!==s&&(t=t.getTextContent().slice(r,l),/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)||(e?o.offset=s:i.offset=s))}}}this.removeText()}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Rt(n){return n instanceof $t}function Fr(n,e,t){const r=n.getTextContent().split(/\s/g),i=r.length;let o=0,s=0;for(let l=0;l<i;l++){const a=r[l],d=l===i-1;if(s=o,o+=a.length,e&&o===t||o>t||d){r.splice(l,1),d&&(s=void 0);break}}e=r.join(" "),e===""?n.remove():(n.setTextContent(e),n.select(s,s))}function br(n,e,t){var r=e;if(n.nodeType===1){let s=!1;var i=n.childNodes,o=i.length;if(r===o&&(s=!0,r=o-1),i=Yt(i[r]),x(i))r=s?i.getTextContentSize():0;else{if(o=Yt(n),o===null)return null;if(N(o)?(n=o.getChildAtIndex(r),(e=N(n))&&(e=n.getParent(),e=t===null||e===null||!e.canBeEmpty()||e!==t.getNode()),e&&(t=s?n.getLastDescendant():n.getFirstDescendant(),t===null?(o=n,r=0):(n=t,o=n.getParentOrThrow())),x(n)?(i=n,o=null,r=s?i.getTextContentSize():0):n!==o&&s&&r++):(r=o.getIndexWithinParent(),r=e===0&&Z(o)&&Yt(n)===o?r:r+1,o=o.getParentOrThrow()),N(o))return ge(o.__key,r,"element")}}else i=Yt(n);return x(i)?ge(i.__key,r,"text"):null}function Yi(n,e,t,r,i,o){if(n===null||t===null||!ii(i,n,t)||(n=br(n,e,D(o)?o.anchor:null),n===null)||(t=br(t,r,D(o)?o.focus:null),t===null))return null;if(n.type==="text"&&t.type==="text"){r=n.getNode();const s=t.getNode(),l=r.getTextContentSize(),a=n.offset,d=t.offset;r===s&&a===d?e===0&&(r=r.getPreviousSibling(),x(r)&&!r.isInert()&&(e=r.getTextContentSize(),r=r.__key,n.key=r,t.key=r,n.offset=e,t.offset=e)):a===l&&(e=r.getNextSibling(),x(e)&&!e.isInert()&&(n.key=e.__key,n.offset=0)),i.isComposing()&&i._compositionKey!==n.key&&D(o)&&(i=o.anchor,o=o.focus,Ae(n,i.key,i.offset,i.type),Ae(t,o.key,o.offset,o.type))}return[n,t]}function ji(n,e,t,r,i,o){const s=me();return n=new ze(ge(n,e,i),ge(t,r,o),0),n.dirty=!0,s._selection=n}function cs(n){var e=n.getEditorState()._selection,t=window.getSelection();if(Rt(e)||En(e))return e.clone();{var r=(r=window.event)&&r.type;r=!Qn&&(r==="selectionchange"||r==="beforeinput"||r==="compositionstart"||r==="compositionend"||r==="click"&&window.event.detail===3||r===void 0);let s,l;if(!D(e)||r)if(t===null)e=null;else if(r=t.anchorNode,s=t.focusNode,l=t.anchorOffset,t=t.focusOffset,n=Yi(r,l,s,t,n,e),n===null)e=null;else{var[i,o]=n;e=new ze(i,o,D(e)?e.format:0)}else e=e.clone()}return e}function U(){return me()._selection}function Vi(){return z()._editorState._selection}function gs(n){if(n!==null){if(n.type==="range")return new ze(ge(n.anchor.key,n.anchor.offset,n.anchor.type),ge(n.focus.key,n.focus.offset,n.focus.type),0);if(n.type==="node")return new $t(new Set(n.nodes));if(n.type==="grid")return new kt(n.gridKey,n.anchorCellKey,n.focusCellKey)}return null}function un(n,e,t,r=1){var i=n.anchor,o=n.focus,s=i.getNode(),l=o.getNode();if(e.is(s)||e.is(l))if(s=e.__key,n.isCollapsed())e=i.offset,t<=e&&(t=Math.max(0,e+r),i.set(s,t,"element"),o.set(s,t,"element"),Br(n));else{var a=n.isBackward();l=a?o:i;var d=l.getNode();i=a?i:o,o=i.getNode(),e.is(d)&&(d=l.offset,t<=d&&l.set(s,Math.max(0,d+r),"element")),e.is(o)&&(e=i.offset,t<=e&&i.set(s,Math.max(0,e+r),"element")),Br(n)}}function Br(n){var e=n.anchor,t=e.offset;const r=n.focus;var i=r.offset,o=e.getNode(),s=r.getNode();if(n.isCollapsed())N(o)&&(s=o.getChildrenSize(),s=(i=t>=s)?o.getChildAtIndex(s-1):o.getChildAtIndex(t),x(s)&&(t=0,i&&(t=s.getTextContentSize()),e.set(s.__key,t,"text"),r.set(s.__key,t,"text")));else{if(N(o)){const l=o.getChildrenSize();t=(n=t>=l)?o.getChildAtIndex(l-1):o.getChildAtIndex(t),x(t)&&(o=0,n&&(o=t.getTextContentSize()),e.set(t.__key,o,"text"))}N(s)&&(t=s.getChildrenSize(),i=(e=i>=t)?s.getChildAtIndex(t-1):s.getChildAtIndex(i),x(i)&&(s=0,e&&(s=i.getTextContentSize()),r.set(i.__key,s,"text")))}}function fs(n,e){if(e=e.getEditorState()._selection,n=n._selection,D(n)){var t=n.anchor;const r=n.focus;let i;t.type==="text"&&(i=t.getNode(),i.selectionTransform(e,n)),r.type==="text"&&(t=r.getNode(),i!==t&&t.selectionTransform(e,n))}}function dn(n,e,t,r,i){let o=null,s=0,l=null;r!==null?(o=r.__key,x(r)?(s=r.getTextContentSize(),l="text"):N(r)&&(s=r.getChildrenSize(),l="element")):i!==null&&(o=i.__key,x(i)?l="text":N(i)&&(l="element")),o!==null&&l!==null?n.set(o,s,l):(s=e.getIndexWithinParent(),s===-1&&(s=t.getChildrenSize()),n.set(t.__key,s,"element"))}function Kr(n,e,t,r,i){n.type==="text"?(n.key=t,e||(n.offset+=i)):n.offset>r.getIndexWithinParent()&&--n.offset}function Jn(n,e,t){F();var r=n.__key;const i=n.getParent();if(i!==null){var o=U(),s=!1;if(D(o)&&e){var l=o.anchor;const a=o.focus;l.key===r&&(dn(l,n,i,n.getPreviousSibling(),n.getNextSibling()),s=!0),a.key===r&&(dn(a,n,i,n.getPreviousSibling(),n.getNextSibling()),s=!0)}l=i.getWritable().__children,r=l.indexOf(r),r===-1&&O(16),je(n),l.splice(r,1),n.getWritable().__parent=null,D(o)&&e&&!s&&un(o,i,r,-1),t||i===null||ee(i)||i.canBeEmpty()||!i.isEmpty()||Jn(i,e),i!==null&&ee(i)&&i.isEmpty()&&i.selectEnd()}}function Wr(n){const e=W(n);return e===null&&O(39),e}class vn{static getType(){O(31,this.name)}static clone(){O(32,this.name)}constructor(e){if(this.__type=this.constructor.getType(),this.__parent=null,e!=null)this.__key=e;else{F(),99<St&&O(26),e=z();var t=me(),r=""+ri++;t._nodeMap.set(r,this),N(this)?e._dirtyElements.set(r,!0):e._dirtyLeaves.add(r),e._cloneNotNeeded.add(r),e._dirtyType=1,this.__key=r}}getType(){return this.__type}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=W(e),e===null)break;e=e.__parent}return!1}isSelected(){const e=U();if(e==null)return!1;const t=new Set(e.getNodes().map(r=>r.__key)).has(this.__key);return x(this)?t:D(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:t}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();return e===null?-1:e.__children.indexOf(this.__key)}getParent(){const e=this.getLatest().__parent;return e===null?null:W(e)}getParentOrThrow(){const e=this.getParent();return e===null&&O(33,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(ee(t)&&N(e))return e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&O(34,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){var e=this.getParent();if(e===null)return null;e=e.__children;const t=e.indexOf(this.__key);return 0>=t?null:W(e[t-1])}getPreviousSiblings(){var e=this.getParent();if(e===null)return[];e=e.__children;const t=e.indexOf(this.__key);return e.slice(0,t).map(r=>Wr(r))}getNextSibling(){var e=this.getParent();if(e===null)return null;e=e.__children;const t=e.length,r=e.indexOf(this.__key);return r>=t-1?null:W(e[r+1])}getNextSiblings(){var e=this.getParent();if(e===null)return[];e=e.__children;const t=e.indexOf(this.__key);return e.slice(t+1).map(r=>Wr(r))}getCommonAncestor(e){const t=this.getParents();var r=e.getParents();N(this)&&t.unshift(this),N(e)&&r.unshift(e),e=t.length;var i=r.length;if(e===0||i===0||t[e-1]!==r[i-1])return null;for(r=new Set(r),i=0;i<e;i++){const o=t[i];if(r.has(o))return o}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let r=this;for(;;){var i=r.getParentOrThrow();if(i===t){i=i.__children.indexOf(r.__key);break}r=i}for(r=e;;){if(e=r.getParentOrThrow(),e===t){t=e.__children.indexOf(r.__key);break}r=e}return i<t}isParentOf(e){const t=this.__key;if(t===e.__key)return!1;for(;e!==null;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){const t=this.isBefore(e),r=[],i=new Set;var o=this;let s=null;for(;;){var l=o.__key;if(i.has(l)||(i.add(l),r.push(o)),o===e)break;if(l=N(o)?t?o.getFirstChild():o.getLastChild():null,l!==null)s===null&&(s=o),o=l;else if(l=t?o.getNextSibling():o.getPreviousSibling(),l!==null)o=l;else{if(l=o.getParentOrThrow(),i.has(l.__key)||r.push(l),l===e)break;o=l,l.is(s)&&(s=null);do o===null&&O(35),l=t?o.getNextSibling():o.getPreviousSibling(),o=o.getParent(),o!==null&&(o.is(s)&&(s=null),l!==null||i.has(o.__key)||r.push(o));while(l===null);o=l}}return t||r.reverse(),r}isDirty(){const e=z()._dirtyLeaves;return e!==null&&e.has(this.__key)}isComposing(){return this.__key===z()._compositionKey}getLatest(){const e=W(this.__key);return e===null&&O(36),e}getWritable(){F();var e=me(),t=z();e=e._nodeMap;const r=this.__key,i=this.getLatest(),o=i.__parent;if(t=t._cloneNotNeeded,t.has(r))return Je(i),i;const s=i.constructor.clone(i);return s.__parent=o,N(i)&&N(s)?(s.__children=Array.from(i.__children),s.__indent=i.__indent,s.__format=i.__format,s.__dir=i.__dir):x(i)&&x(s)&&(s.__format=i.__format,s.__style=i.__style,s.__mode=i.__mode,s.__detail=i.__detail),t.add(r),s.__key=r,Je(s),e.set(r,s),s}getTextContent(){return""}getTextContentSize(e,t){return this.getTextContent(e,t).length}createDOM(){O(37)}updateDOM(){O(38)}exportDOM(e){return Z(this)?(e=e.getElementByKey(this.getKey()),{element:e?e.cloneNode():null}):{element:this.createDOM(e._config,e)}}static importDOM(){return null}remove(e){F(),Jn(this,!0,e)}replace(e){F();const t=this.__key;e=e.getWritable(),Zt(e);var r=this.getParentOrThrow(),i=r.getWritable().__children;const o=i.indexOf(this.__key),s=e.__key;return o===-1&&O(16),i.splice(o,0,s),e.__parent=r.__key,Jn(this,!1),je(e),i=U(),D(i)&&(r=i.anchor,i=i.focus,r.key===t&&Pr(r,e),i.key===t&&Pr(i,e)),z()._compositionKey===t&&X(s),e}insertAfter(e){F();var t=this.getWritable(),r=e.getWritable(),i=r.getParent();const o=U();var s=e.getIndexWithinParent(),l=!1,a=!1;i!==null&&(Zt(r),D(o)&&(a=i.__key,l=o.anchor,i=o.focus,l=l.type==="element"&&l.key===a&&l.offset===s+1,a=i.type==="element"&&i.key===a&&i.offset===s+1)),s=this.getParentOrThrow().getWritable(),i=r.__key,r.__parent=t.__parent;const d=s.__children;return t=d.indexOf(t.__key),t===-1&&O(16),d.splice(t+1,0,i),je(r),D(o)&&(un(o,s,t+1),r=s.__key,l&&o.anchor.set(r,t+2,"element"),a&&o.focus.set(r,t+2,"element")),e}insertBefore(e){F();var t=this.getWritable(),r=e.getWritable();Zt(r);const i=this.getParentOrThrow().getWritable(),o=r.__key;r.__parent=t.__parent;const s=i.__children;return t=s.indexOf(t.__key),t===-1&&O(16),s.splice(t,0,o),je(r),r=U(),D(r)&&un(r,i,t),e}selectPrevious(e,t){F();const r=this.getPreviousSibling(),i=this.getParentOrThrow();return r===null?i.select(0,0):N(r)?r.select():x(r)?r.select(e,t):(e=r.getIndexWithinParent()+1,i.select(e,e))}selectNext(e,t){F();const r=this.getNextSibling(),i=this.getParentOrThrow();return r===null?i.select():N(r)?r.select(0,0):x(r)?r.select(e,t):(e=r.getIndexWithinParent(),i.select(e,e))}markDirty(){this.getWritable()}}class Xi extends vn{constructor(e){super(e)}decorate(){O(4)}isIsolated(){return!1}isTopLevel(){return!1}}function Z(n){return n instanceof Xi}class Ue extends vn{constructor(e){super(e),this.__children=[],this.__indent=this.__format=0,this.__dir=null}getFormat(){return this.getLatest().__format}getIndent(){return this.getLatest().__indent}getChildren(){const e=this.getLatest().__children,t=[];for(let r=0;r<e.length;r++){const i=W(e[r]);i!==null&&t.push(i)}return t}getChildrenKeys(){return this.getLatest().__children}getChildrenSize(){return this.getLatest().__children.length}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=z()._dirtyElements;return e!==null&&e.has(this.__key)}getAllTextNodes(e){const t=[],r=this.getLatest().__children;for(let o=0;o<r.length;o++){var i=W(r[o]);!x(i)||!e&&i.isInert()?N(i)&&(i=i.getAllTextNodes(e),t.push(...i)):t.push(i)}return t}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(N(e)){const t=e.getFirstChild();if(t!==null){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(N(e)){const t=e.getLastChild();if(t!==null){e=t;continue}}break}return e}getDescendantByIndex(e){const t=this.getChildren(),r=t.length;return r===0?this:e>=r?(e=t[r-1],N(e)&&e.getLastDescendant()||e):(e=t[e],N(e)&&e.getFirstDescendant()||e)}getFirstChild(){const e=this.getLatest().__children;return e.length===0?null:W(e[0])}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&O(15,this.__key),e}getLastChild(){const e=this.getLatest().__children,t=e.length;return t===0?null:W(e[t-1])}getChildAtIndex(e){return e=this.getLatest().__children[e],e===void 0?null:W(e)}getTextContent(e,t){let r="";const i=this.getChildren(),o=i.length;for(let s=0;s<o;s++){const l=i[s];r+=l.getTextContent(e,t),N(l)&&s!==o-1&&!l.isInline()&&(r+=`

`)}return r}getDirection(){return this.getLatest().__dir}hasFormat(e){return e=Or[e],(this.getFormat()&e)!==0}select(e,t){F();const r=U();var i=this.getChildrenSize();if(e===void 0&&(e=i),t===void 0&&(t=i),i=this.__key,D(r))r.anchor.set(i,e,"element"),r.focus.set(i,t,"element"),r.dirty=!0;else return ji(i,e,i,t,"element","element");return r}selectStart(){const e=this.getFirstDescendant();return N(e)||x(e)?e.select(0,0):e!==null?e.selectPrevious():this.select(0,0)}selectEnd(){const e=this.getLastDescendant();return N(e)||x(e)?e.select():e!==null?e.selectNext():this.select()}clear(){F();const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return F(),this.splice(this.getChildrenSize(),0,e)}setDirection(e){F();const t=this.getWritable();return t.__dir=e,t}setFormat(e){return F(),this.getWritable().__format=Or[e],this}setIndent(e){return F(),this.getWritable().__indent=e,this}splice(e,t,r){F();const i=this.getWritable();var o=i.__key;const s=i.__children,l=r.length;var a=[];for(let d=0;d<l;d++){const u=r[d],c=u.getWritable();u.__key===o&&O(49),Zt(c),c.__parent=o,a.push(c.__key)}if((r=this.getChildAtIndex(e-1))&&Je(r),(o=this.getChildAtIndex(e+t))&&Je(o),e===s.length?(s.push(...a),e=[]):e=s.splice(e,t,...a),e.length&&(t=U(),D(t))){const d=new Set(e),u=new Set(a);a=m=>{for(m=m.getNode();m;){const _=m.__key;if(d.has(_)&&!u.has(_))return!0;m=m.getParent()}return!1};const{anchor:c,focus:f}=t;for(a(c)&&dn(c,c.getNode(),this,r,o),a(f)&&dn(f,f.getNode(),this,r,o),a=e.length,t=0;t<a;t++)r=W(e[t]),r!=null&&(r.getWritable().__parent=null);s.length!==0||this.canBeEmpty()||ee(this)||this.remove()}return i}insertNewAfter(){return null}canInsertTab(){return!1}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}canMergeWith(){return!1}}function N(n){return n instanceof Ue}class Mt extends Ue{static getType(){return"root"}static clone(){return new Mt}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){O(70)}getTextContent(e,t){const r=this.__cachedText;return!re&&z()._dirtyType!==0||r===null||e&&t===!1?super.getTextContent(e,t):r}remove(){O(10)}replace(){O(11)}insertBefore(){O(12)}insertAfter(){O(13)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){const r=e[t];N(r)||Z(r)||O(46)}return super.append(...e)}toJSON(){return{__children:this.__children,__dir:this.__dir,__format:this.__format,__indent:this.__indent,__key:"root",__parent:null,__type:"root"}}}function ee(n){return n instanceof Mt}function hs(n,e){if(e=e.getEditorState()._selection,n=n._selection,n!==null){if(n.dirty||!n.is(e))return!0}else if(e!==null)return!0;return!1}function Zi(){return new Dt(new Map([["root",new Mt]]))}class Dt{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){e:{const r=oe,i=re,o=ne;oe=this,re=!0,ne=null;try{var t=e();break e}finally{oe=r,re=i,ne=o}t=void 0}return t}clone(e){return e=new Dt(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){const e=this._selection;return{_nodeMap:Array.from(this._nodeMap.entries()),_selection:D(e)?{anchor:{key:e.anchor.key,offset:e.anchor.offset,type:e.anchor.type},focus:{key:e.focus.key,offset:e.focus.offset,type:e.focus.type},type:"range"}:Rt(e)?{nodes:Array.from(e._nodes),type:"node"}:En(e)?{anchorCellKey:e.anchorCellKey,focusCellKey:e.focusCellKey,gridKey:e.gridKey,type:"grid"}:null}}}class It extends vn{static getType(){return"linebreak"}static clone(e){return new It(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:()=>({conversion:ps,priority:0})}}}function ps(){return{node:cn()}}function cn(){return new It}function Nn(n){return n instanceof It}function Dn(n,e){return e&16?"code":e&32?"sub":e&64?"sup":null}function In(n,e){return e&1?"strong":e&2?"em":"span"}function Pn(n,e,t,r,i){n=r.classList,r=Qt(i,"base"),r!==void 0&&n.add(...r),r=Qt(i,"underlineStrikethrough");let o=!1;const s=e&8&&e&4;var l=t&8&&t&4;r!==void 0&&(l?(o=!0,s||n.add(...r)):s&&n.remove(...r));for(const a in Qe)l=Qe[a],r=Qt(i,a),r!==void 0&&(t&l?!o||a!=="underline"&&a!=="strikethrough"?((e&l)===0||s&&a==="underline"||a==="strikethrough")&&n.add(...r):e&l&&n.remove(...r):e&l&&n.remove(...r))}function Ln(n,e,t){const r=e.firstChild;if(t=t.isComposing(),n+=t?"\u200B":"",r==null)e.textContent=n;else if(e=r.nodeValue,e!==n)if(t){t=e.length;const i=n.length;let o=0,s=0;for(;o<t&&o<i&&e[o]===n[o];)o++;for(;s+o<t&&s+o<i&&e[t-s-1]===n[i-s-1];)s++;n=[o,t-o-s,n.slice(o,i-s)];const[l,a,d]=n;a!==0&&r.deleteData(l,a),r.insertData(l,d)}else r.nodeValue=n}class rt extends vn{static getType(){return"text"}static clone(e){return new rt(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isSegmented(){return this.getLatest().__mode===2}isInert(){return this.getLatest().__mode===3}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=Qe[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(e,t){return!e&&this.isInert()||t===!1&&this.isDirectionless()?"":this.getLatest().__text}getFormatFlags(e,t){const r=this.getLatest().__format;return si(r,e,t)}createDOM(e){var t=this.__format,r=Dn(this,t);const i=In(this,t),o=document.createElement(r===null?i:r);let s=o;return r!==null&&(s=document.createElement(i),o.appendChild(s)),r=s,Ln(this.__text,r,this),e=e.theme.text,e!==void 0&&Pn(i,0,t,r,e),t=this.__style,t!==""&&(o.style.cssText=t),o}updateDOM(e,t,r){const i=this.__text;var o=e.__format,s=this.__format,l=Dn(this,o);const a=Dn(this,s);var d=In(this,o);const u=In(this,s);return(l===null?d:l)!==(a===null?u:a)?!0:l===a&&d!==u?(o=t.firstChild,o==null&&O(20),e=l=document.createElement(u),Ln(i,e,this),r=r.theme.text,r!==void 0&&Pn(u,0,s,e,r),t.replaceChild(l,o),!1):(d=t,a!==null&&l!==null&&(d=t.firstChild,d==null&&O(21)),Ln(i,d,this),r=r.theme.text,r!==void 0&&o!==s&&Pn(u,o,s,d,r),s=this.__style,e.__style!==s&&(t.style.cssText=s),!1)}static importDOM(){return{"#text":()=>({conversion:ys,priority:0}),b:()=>({conversion:ms,priority:0}),em:()=>({conversion:jt,priority:0}),i:()=>({conversion:jt,priority:0}),span:()=>({conversion:_s,priority:0}),strong:()=>({conversion:jt,priority:0}),u:()=>({conversion:jt,priority:0})}}selectionTransform(){}setFormat(e){F();const t=this.getWritable();return t.__format=e,t}setStyle(e){F();const t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=Qe[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){F();const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){F();const e=this.getWritable();return e.__detail^=2,e}setMode(e){F(),e=zo[e];const t=this.getWritable();return t.__mode=e,t}setTextContent(e){F();const t=this.getWritable();return t.__text=e,t}select(e,t){F();const r=U();var i=this.getTextContent();const o=this.__key;if(typeof i=="string"?(i=i.length,e===void 0&&(e=i),t===void 0&&(t=i)):t=e=0,D(r))i=z()._compositionKey,i!==r.anchor.key&&i!==r.focus.key||X(o),r.setTextNodeRange(this,e,this,t);else return ji(o,e,o,t,"text","text");return r}spliceText(e,t,r,i){F();const o=this.getWritable(),s=o.__text,l=r.length;let a=e;0>a&&(a=l+a,0>a&&(a=0));const d=U();return i&&D(d)&&(e+=l,d.setTextNodeRange(o,e,o,e)),t=s.slice(0,a)+r+s.slice(a+t),o.setTextContent(t)}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){F();var t=this.getLatest(),r=t.getTextContent(),i=t.__key,o=z()._compositionKey,s=new Set(e);e=[];for(var l=r.length,a="",d=0;d<l;d++)a!==""&&s.has(d)&&(e.push(a),a=""),a+=r[d];if(a!==""&&e.push(a),s=e.length,s===0)return[];if(e[0]===r)return[t];var u=e[0];r=t.getParentOrThrow(),d=r.__key;const c=t.getFormat(),f=t.getStyle(),m=t.__detail;l=!1,t.isSegmented()?(a=ie(u),a.__parent=d,a.__format=c,a.__style=f,a.__detail=m,l=!0):(a=t.getWritable(),a.__text=u),t=U(),a=[a],u=u.length;for(let I=1;I<s;I++){var _=e[I],A=_.length;_=ie(_).getWritable(),_.__format=c,_.__style=f,_.__detail=m;const k=_.__key;if(A=u+A,D(t)){const p=t.anchor,h=t.focus;p.key===i&&p.type==="text"&&p.offset>u&&p.offset<=A&&(p.key=k,p.offset-=u,t.dirty=!0),h.key===i&&h.type==="text"&&h.offset>u&&h.offset<=A&&(h.key=k,h.offset-=u,t.dirty=!0)}o===i&&X(k),u=A,_.__parent=d,a.push(_)}return je(this),o=r.getWritable().__children,i=o.indexOf(i),e=a.map(I=>I.__key),l?(o.splice(i,0,...e),this.remove()):o.splice(i,1,...e),D(t)&&un(t,r,i,s-1),a}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||O(22);const r=this.__key,i=e.__key,o=this.__text,s=o.length;z()._compositionKey===i&&X(r);const l=U();if(D(l)){const a=l.anchor,d=l.focus;a!==null&&a.key===i&&(Kr(a,t,r,e,s),l.dirty=!0),d!==null&&d.key===i&&(Kr(d,t,r,e,s),l.dirty=!0)}return this.setTextContent(t?e.__text+o:o+e.__text),e.remove(),this.getLatest()}isTextEntity(){return!1}}function _s(n){const e=n.style.fontWeight==="700";return{forChild:t=>(x(t)&&e&&t.toggleFormat("bold"),t),node:null}}function ms(n){const e=n.style.fontWeight==="normal";return{forChild:t=>(x(t)&&!e&&t.toggleFormat("bold"),t),node:null}}function ys(n){return{node:ie(n.textContent)}}const Ts={em:"italic",i:"italic",strong:"bold",u:"underline"};function jt(n){const e=Ts[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:t=>(x(t)&&t.toggleFormat(e),t),node:null}}function ie(n=""){return new rt(n)}function x(n){return n instanceof rt}class it extends Ue{static getType(){return"paragraph"}static clone(e){return new it(e.__key)}createDOM(e){const t=document.createElement("p");return e=Qt(e.theme,"paragraph"),e!==void 0&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Es,priority:0})}}exportDOM(e){return{element:e}=super.exportDOM(e),e&&this.getTextContentSize()===0&&e.append(document.createElement("br")),{element:e}}insertNewAfter(){const e=et(),t=this.getDirection();return e.setDirection(t),this.insertAfter(e),e}collapseAtStart(){const e=this.getChildren();if(e.length===0||x(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Es(){return{node:et()}}function et(){return new it}function Qi(n,e,t,r){const i=n._keyToDOMMap;i.clear(),n._editorState=Zi(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],r=n._observer,r!==null&&(r.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",i.set("root",t))}function vs(n){const e=new Map,t=new Set;return n.forEach(r=>{if(r=r.klass.importDOM,!t.has(r)){t.add(r);var i=r();i!==null&&Object.keys(i).forEach(o=>{let s=e.get(o);s===void 0&&(s=[],e.set(o,s)),s.push(i[o])})}}),e}function Ji(n){var e=n||{},t=e.namespace||Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);const r=e.theme||{},i=e.context||{},o=e.parentEditor||null,s=e.disableEvents||!1,l=Zi();n=e.editorState;const a=[Mt,rt,It,it,...e.nodes||[]],d=e.onError;e=e.readOnly||!1;const u=new Map;for(let c=0;c<a.length;c++){const f=a[c],m=f.getType();u.set(m,{klass:f,transforms:new Set})}return t=new Ns(l,o,u,{context:i,disableEvents:s,namespace:t,theme:r},d,vs(u),e),n!==void 0&&(t._pendingEditorState=n,t._dirtyType=2),t}class Ns{constructor(e,t,r,i,o,s){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,mutation:new Map,readonly:new Set,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=""+ri++,this._onError=o,this._htmlConversions=s,this._readOnly=!1}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerReadOnlyListener(e){const t=this._listeners.readonly;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&O(56);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=i.get(e);o===void 0&&O(81);const s=o[r];return s.add(t),()=>{s.delete(t),o.every(l=>l.size===0)&&i.delete(e)}}registerMutationListener(e,t){this._nodes.get(e.getType())===void 0&&O(57,e.name);const r=this._listeners.mutation;return r.set(t,e),()=>{r.delete(t)}}registerNodeTransform(e,t){const r=e.getType(),i=this._nodes.get(r);i===void 0&&O(57,e.name);const o=i.transforms;return o.add(t),Vo(this,r),()=>{o.delete(t)}}hasNodes(e){for(let t=0;t<e.length;t++){const r=e[t].getType();if(!this._nodes.has(r))return!1}return!0}dispatchCommand(e,t){return C(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){var r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Qi(this,t,e,r),t!==null&&!this._config.disableEvents){if(ft!==0&&(ft--,ft===0&&t.ownerDocument.removeEventListener("selectionchange",Ii)),r=t.__lexicalEditor,r!=null){if(r._parentEditor!==null){var i=lr(r);i=i[i.length-1]._key,Ve.get(i)===r&&Ve.delete(i)}else Ve.delete(r._key);t.__lexicalEditor=null}for(r=Di(t),i=0;i<r.length;i++)r[i]();t.__lexicalEventHandles=[]}e!==null&&(r=e.style,r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._dirtyType=2,Hi(this),this._updateTags.add("history-merge"),Be(this),this._config.disableEvents||is(e,this)),ht("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&O(19),Gi(this);const r=this._pendingEditorState,i=this._updateTags;t=t!==void 0?t.tag:null,r===null||r.isEmpty()||(t!=null&&i.add(t),Be(this)),this._pendingEditorState=e,this._dirtyType=2,this._compositionKey=null,t!=null&&i.add(t),Be(this)}parseEditorState(e){return e=JSON.parse(e),Wi(e,this)}update(e,t){ce(this,e,t)}focus(e){const t=this._rootElement;t!==null&&(t.setAttribute("autocapitalize","off"),ce(this,()=>{const r=U(),i=wt();r!==null?r.dirty=!0:i.getChildrenSize()!==0&&i.selectEnd()},{onUpdate:()=>{t.removeAttribute("autocapitalize"),e&&e()}}))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=window.getSelection(),e!==null&&e.removeAllRanges()}isReadOnly(){return this._readOnly}setReadOnly(e){this._readOnly=e,ht("readonly",this,!0,e)}toJSON(){return{editorState:this._editorState}}}class qi extends Ue{constructor(e,t){super(t)}}function eo(n){return n instanceof qi}class to extends Ue{}function no(n){return n instanceof to}class ro extends Ue{}function io(n){return n instanceof ro}y.$createGridSelection=function(){return new kt("root","root","root")};y.$createLineBreakNode=cn;y.$createNodeFromParse=function(n,e){F();const t=z();return dr(n,e,t,null)};y.$createNodeSelection=function(){return new $t(new Set)};y.$createParagraphNode=et;y.$createRangeSelection=function(){const n=ge("root",0,"element"),e=ge("root",0,"element");return new ze(n,e,0)};y.$createTextNode=ie;y.$getDecoratorNode=gi;y.$getNearestNodeFromDOMNode=mn;y.$getNodeByKey=W;y.$getPreviousSelection=Vi;y.$getRoot=wt;y.$getSelection=U;y.$isDecoratorNode=Z;y.$isElementNode=N;y.$isGridCellNode=eo;y.$isGridNode=no;y.$isGridRowNode=io;y.$isGridSelection=En;y.$isLeafNode=li;y.$isLineBreakNode=Nn;y.$isNodeSelection=Rt;y.$isParagraphNode=function(n){return n instanceof it};y.$isRangeSelection=D;y.$isRootNode=ee;y.$isTextNode=x;y.$nodesOfType=function(n){var e=me();const t=e._readOnly,r=n.getType();e=e._nodeMap;const i=[];for(const[,o]of e)o instanceof n&&o.__type===r&&(t||o.isAttached())&&i.push(o);return i};y.$setCompositionKey=X;y.$setSelection=sr;y.BLUR_COMMAND=Ri;y.CAN_REDO_COMMAND={};y.CAN_UNDO_COMMAND={};y.CLEAR_EDITOR_COMMAND={};y.CLEAR_HISTORY_COMMAND={};y.CLICK_COMMAND=mi;y.COMMAND_PRIORITY_CRITICAL=4;y.COMMAND_PRIORITY_EDITOR=0;y.COMMAND_PRIORITY_HIGH=3;y.COMMAND_PRIORITY_LOW=1;y.COMMAND_PRIORITY_NORMAL=2;y.COPY_COMMAND=wi;y.CUT_COMMAND=$i;y.DELETE_CHARACTER_COMMAND=yt;y.DELETE_LINE_COMMAND=Et;y.DELETE_WORD_COMMAND=Tt;y.DRAGSTART_COMMAND=Ai;y.DROP_COMMAND=Oi;y.DecoratorNode=Xi;y.ElementNode=Ue;y.FOCUS_COMMAND=ki;y.FORMAT_ELEMENT_COMMAND={};y.FORMAT_TEXT_COMMAND=we;y.GridCellNode=qi;y.GridNode=to;y.GridRowNode=ro;y.INDENT_CONTENT_COMMAND={};y.INSERT_LINE_BREAK_COMMAND=on;y.INSERT_PARAGRAPH_COMMAND=zn;y.INSERT_TEXT_COMMAND=be;y.KEY_ARROW_DOWN_COMMAND=vi;y.KEY_ARROW_LEFT_COMMAND=Ti;y.KEY_ARROW_RIGHT_COMMAND=yi;y.KEY_ARROW_UP_COMMAND=Ei;y.KEY_BACKSPACE_COMMAND=Ni;y.KEY_DELETE_COMMAND=Ci;y.KEY_ENTER_COMMAND=sn;y.KEY_ESCAPE_COMMAND=xi;y.KEY_MODIFIER_COMMAND=Mi;y.KEY_TAB_COMMAND=Si;y.OUTDENT_CONTENT_COMMAND={};y.PASTE_COMMAND=cr;y.ParagraphNode=it;y.REDO_COMMAND=fr;y.REMOVE_TEXT_COMMAND=Un;y.SELECTION_CHANGE_COMMAND=_i;y.TextNode=rt;y.UNDO_COMMAND=gr;y.VERSION="0.2.4";y.createCommand=function(){return{}};y.createEditor=Ji;const xs=y;var se=xs,ke={},Pt={},fe={},R=se;const oo=new Map;function tn(n){n=n.getLatest();const e=n.constructor.clone(n);return e.__parent=n.__parent,R.$isElementNode(n)&&R.$isElementNode(e)?(e.__children=Array.from(n.__children),e.__format=n.__format,e.__indent=n.__indent,e.__dir=n.__dir):R.$isTextNode(n)&&R.$isTextNode(e)&&(e.__format=n.__format,e.__style=n.__style,e.__mode=n.__mode,e.__detail=n.__detail),e}function zr(n,e,t,r,i){for(var o=e;n!==null;){for(e=n.getParent();e!==null&&e.excludeFromCopy();)e=e.getParent();if(e===null)break;if(!R.$isElementNode(n)||!n.excludeFromCopy()){const s=n.getKey();let l=i.get(s);const a=l===void 0;if(a&&(l=tn(n),i.set(s,l)),!R.$isTextNode(l)||l.isSegmented()||l.isToken()?R.$isElementNode(l)&&(l.__children=l.__children.slice(t?o:0,t?void 0:o+1)):l.__text=l.__text.slice(t?o:0,t?void 0:o),R.$isRootNode(e)){a&&r.push(s);break}}o=i.get(e.getKey()),o=R.$isElementNode(o)?o.__children.indexOf(n.getKey()):n.getIndexWithinParent(),n=e}}function Cs(n){if(R.$isRangeSelection(n)){var e=n.anchor,t=n.focus,r=e.getCharacterOffset();const u=t.getCharacterOffset();var i=e.getNode(),o=t.getNode(),s=i.getParentOrThrow();if(i===o&&R.$isTextNode(i)&&(s.canBeEmpty()||1<s.getChildrenSize()))return n=tn(i),i=u>r,n.__text=n.__text.slice(i?r:u,i?u:r),r=n.getKey(),{nodeMap:[[r,n]],range:[r]};if(n=n.getNodes(),n.length===0)return{nodeMap:[],range:[]};if(i=n.length,o=n[0],s=o.getParent(),s!==null&&(!s.canBeEmpty()||R.$isRootNode(s))){var l=s.__children;if(l.length===i){for(var a=!0,d=0;d<l.length;d++)if(l[d]!==n[d].__key){a=!1;break}a&&(i++,n.push(s))}}for(s=n[i-1],e=e.isBefore(t),t=new Map,l=[],zr(o,e?r:u,!0,l,t),o=0;o<i;o++)if(a=n[o],d=a.getKey(),!(t.has(d)||R.$isElementNode(a)&&a.excludeFromCopy())){const c=tn(a);R.$isRootNode(a.getParent())&&l.push(a.getKey()),t.set(d,c)}return zr(s,e?u:r,!1,l,t),{nodeMap:Array.from(t.entries()),range:l}}if(R.$isGridSelection(n))return{nodeMap:n.getNodes().map(u=>{const c=u.getKey();return u=tn(u),[c,u]}),range:[n.gridKey]};throw Error("Minified Lexical error #68; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")}function _r(n){return oo.get(n)||null}function dt(n,e){var t=_r(n.getStyle());e=t?L(L({},t),e):e,t="";for(r in e)r&&(t+=`${r}: ${e[r]};`);var r=t;n.setStyle(r),oo.set(r,e)}function so(n,e,t,r){n.modify(e?"extend":"move",t,r)}function lo(n){return n=n.anchor.getNode(),(R.$isRootNode(n)?n:n.getParentOrThrow()).getDirection()==="rtl"}function Ss(n){for(;n!==null&&!R.$isRootNode(n);){const e=n.getLatest(),t=n.getParent();e.__children.length===0&&n.remove(!0),n=t}}fe.$cloneContents=function(n){return Cs(n)};fe.$getSelectionStyleValueForProperty=function(n,e,t=""){let r=null;const i=n.getNodes();var o=n.anchor,s=n.focus,l=n.isBackward();for(n=l?s.offset:o.offset,o=l?s.getNode():o.getNode(),s=0;s<i.length;s++){var a=i[s];if((s===0||n!==0||!a.is(o))&&R.$isTextNode(a)){l=e;var d=t;if(a=a.getStyle(),a=_r(a),l=a!==null&&a[l]||d,r===null)r=l;else if(r!==l){r="";break}}}return r===null?t:r};fe.$isAtNodeEnd=function(n){return n.type==="text"?n.offset===n.getNode().getTextContentSize():n.offset===n.getNode().getChildrenSize()};fe.$isParentElementRTL=lo;fe.$moveCaretSelection=so;fe.$moveCharacter=function(n,e,t){const r=lo(n);so(n,e,t?!r:r,"character")};fe.$patchStyleText=function(n,e){var t=n.getNodes();const r=t.length-1;let i=t[0],o=t[r];if(!n.isCollapsed()){var s=n.anchor,l=n.focus;n=i.getTextContent().length;var a=l.offset,d=s.offset;if(s=(l=s.isBefore(l))?d:a,l=l?a:d,s===i.getTextContentSize()){const u=i.getNextSibling();R.$isTextNode(u)&&(s=d=0,i=u)}if(i.is(o))R.$isTextNode(i)&&(s=d>a?a:d,l=d>a?d:a,s!==l&&(s===0&&l===n?(dt(i,e),i.select(s,l)):(t=i.splitText(s,l),t=s===0?t[0]:t[1],dt(t,e),t.select(0,l-s))));else for(R.$isTextNode(i)&&(s!==0&&([,i]=i.splitText(s)),dt(i,e)),R.$isTextNode(o)&&(n=o.getTextContent().length,l!==n&&([o]=o.splitText(l)),l!==0&&dt(o,e)),n=1;n<r;n++)a=t[n],d=a.getKey(),R.$isTextNode(a)&&d!==i.getKey()&&d!==o.getKey()&&!a.isToken()&&dt(a,e)}};fe.$selectAll=function(n){const e=n.anchor;n=n.focus;var t=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=t.getFirstDescendant();t=t.getLastDescendant();let i="element",o="element",s=0;R.$isTextNode(r)?i="text":R.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),R.$isTextNode(t)?(o="text",s=t.getTextContentSize()):R.$isElementNode(t)||t===null||(t=t.getParentOrThrow(),s=t.getChildrenSize()),r&&t&&(e.set(r.getKey(),0,i),n.set(t.getKey(),s,o))};fe.$shouldOverrideDefaultCharacterSelection=function(n,e){return n=R.$getDecoratorNode(n.focus,e),R.$isDecoratorNode(n)&&!n.isIsolated()};fe.$wrapLeafNodesInElements=function(n,e,t){const r=n.getNodes(),i=r.length;if(i===0){n=n.anchor,n=n.type==="text"?n.getNode().getParentOrThrow():n.getNode();var o=n.getChildren();let m=e();o.forEach(_=>m.append(_)),t&&(m=t.append(m)),n.replace(m)}else{var s=r[0],l=new Map;for(o=[],s=R.$isElementNode(s)?s:s.getParentOrThrow(),s.isInline()&&(s=s.getParentOrThrow());s!==null;){var a=s.getPreviousSibling();if(a!==null){s=a;break}if(s=s.getParentOrThrow(),R.$isRootNode(s))break}a=new Set;for(var d=0;d<i;d++){var u=r[d];R.$isElementNode(u)&&u.getChildrenSize()===0&&a.add(u.getKey())}var c=new Set;for(d=0;d<i;d++){var f=r[d];if(u=f.getParent(),u!==null&&u.isInline()&&(u=u.getParent()),u!==null&&R.$isLeafNode(f)&&!c.has(f.getKey())){if(f=u.getKey(),l.get(f)===void 0){const m=e();o.push(m),l.set(f,m),u.getChildren().forEach(_=>{m.append(_),c.add(_.getKey())}),Ss(u)}}else a.has(f.getKey())&&(o.push(e()),f.remove())}if(t)for(e=0;e<o.length;e++)t.append(o[e]);if(R.$isRootNode(s))if(e=s.getFirstChild(),R.$isElementNode(e)&&(s=e),e===null)if(t)s.append(t);else for(t=0;t<o.length;t++)s.append(o[t]);else if(t)e.insertBefore(t);else for(t=0;t<o.length;t++)e.insertBefore(o[t]);else if(t)s.insertAfter(t);else for(t=o.length-1;0<=t;t--)s.insertAfter(o[t]);t=R.$getPreviousSelection(),R.$isRangeSelection(t)&&t.anchor.getNode().isAttached()&&t.focus.getNode().isAttached()?(n=t.clone(),n.dirty=!0,R.$setSelection(n)):n.dirty=!0}};fe.getStyleObjectFromCSS=_r;const Os=fe;var mr=Os,ao=mr,de=se;const uo=new Set(["STYLE"]);function co(n,e,t){var r=t;if(de.$isRangeSelection(e)||de.$isGridSelection(e)){var i=e.anchor.getNode(),o=e.focus.getNode(),s=t.is(i),l=t.is(o);if(de.$isTextNode(t)&&(s||l)){s=e.anchor.getCharacterOffset(),l=e.focus.getCharacterOffset();const u=e.isBackward(),c=i.is(o);if(i=t.is(u?o:i),o=t.getTextContent().length,c)r=s>l?l:s,t=t.splitText(r,s>l?s:l),r=r===0?t[0]:t[1];else if(s=i?u?l:s:u?s:l,u||s!==0)s!==o&&(r=t.splitText(s)[i&&s!==0?1:0]);else return null}}const{element:a,after:d}=r.exportDOM(n);if(!a)return null;for(t=de.$isElementNode(r)?r.getChildren():[],s=0;s<t.length;s++)l=t[s],l.isSelected()&&(l=co(n,e,l))&&a.append(l);return d?d.call(r,a):a}function go(n,e){n=n.getData("text/plain"),n!=null&&e.insertRawText(n)}function As(n,e){const{nodeName:t}=n;e=e._htmlConversions.get(t.toLowerCase());let r=null;return e!==void 0&&e.forEach(i=>{i=i(n),i!==null&&(r===null||r.priority<i.priority)&&(r=i)}),r!==null?r.conversion:null}function fo(n,e,t=new Map,r){let i=[];if(uo.has(n.nodeName))return i;let o=null;var s=As(n,e);const l=s?s(n):null;if(s=null,l!==null){if(s=l.after,o=l.node,o!==null){for(var[,a]of t)if(o=a(o,r),!o)break;o&&i.push(o)}l.forChild!=null&&t.set(n.nodeName,l.forChild)}for(n=n.childNodes,r=[],a=0;a<n.length;a++)r.push(...fo(n[a],e,t,o));return s!=null&&(r=s(r)),o==null?i=i.concat(r):de.$isElementNode(o)&&o.append(...r),i}Pt.$getLexicalContent=function(n){var e=de.$getSelection();return e!==null?(n=n._config.namespace,e=ao.$cloneContents(e),JSON.stringify({namespace:n,state:e})):null};Pt.$insertDataTransferForPlainText=go;Pt.$insertDataTransferForRichText=function(n,e,t){var r=n.getData("application/x-lexical-editor");if(r){var i=t._config.namespace;try{const a=JSON.parse(r);if(a.namespace===i){const{range:d,nodeMap:u}=a.state;var o=new Map(u);for(r=[],i=0;i<d.length;i++){var s=o.get(d[i]);if(s!==void 0){var l=de.$createNodeFromParse(s,o);r.push(l)}}e.insertNodes(r);return}}catch{}}if(o=n.getData("text/html")){for(o=new DOMParser().parseFromString(o,"text/html"),n=[],o=o.body?Array.from(o.body.childNodes):[],s=o.length,l=0;l<s;l++)r=o[l],uo.has(r.nodeName)||(r=fo(r,t),r!==null&&(n=n.concat(r)));for(t=n,n=[],o=null,s=0;s<t.length;s++)l=t[s],!de.$isElementNode(l)||l.isInline()?(o===null&&(o=de.$createParagraphNode(),n.push(o)),o!==null&&o.append(l)):(n.push(l),o=null);e.insertNodes(n)}else go(n,e)};Pt.getHtmlContent=function(n){const e=de.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");if(de.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0)return null;var t=ao.$cloneContents(e);const r=document.createElement("div");for(let o=0;o<t.range.length;o++){var i=de.$getNodeByKey(t.range[o]);i&&i.isSelected()&&(i=co(n,e,i))&&r.append(i)}return r.innerHTML};const ws=Pt;var $s=ws,Re={},Xe=se;function ho(n,e){for(;n!==Xe.$getRoot()&&n!=null;){if(e(n))return n;n=n.getParent()}return null}Re.$dfs=function(n,e){const t=[];n=(n||Xe.$getRoot()).getLatest(),e=e||(Xe.$isElementNode(n)?n.getLastDescendant():n);for(var r=n,i=0;(r=r.getParent())!==null;)i++;for(r=i;n!==null&&!n.is(e);)if(t.push({depth:r,node:n}),Xe.$isElementNode(n)&&0<n.getChildrenSize())n=n.getFirstChild(),r++;else for(i=null;i===null&&n!==null;)i=n.getNextSibling(),i===null?(n=n.getParent(),r--):n=i;return n!==null&&n.is(e)&&t.push({depth:r,node:n}),t};Re.$findMatchingParent=ho;Re.$getNearestBlockElementAncestorOrThrow=function(n){const e=ho(n,t=>Xe.$isElementNode(t)&&!t.isInline());if(!Xe.$isElementNode(e))throw Error(`Expected node ${n.__key} to have closest block element node.`);return e};Re.$getNearestNodeOfType=function(n,e){for(;n!=null&&!(n instanceof e);)n=n.getParent();return n};Re.addClassNamesToElement=function(n,...e){e.forEach(t=>{t!=null&&typeof t=="string"&&n.classList.add(...t.split(" "))})};Re.mergeRegister=function(...n){return()=>{n.forEach(e=>e())}};Re.removeClassNamesFromElement=function(n,...e){e.forEach(t=>{n.classList.remove(...t.split(" "))})};const ks=Re;var xn=ks,gn=$s,Vt=mr,Fe=xn,g=se;const ot=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Rs=ot&&"documentMode"in document?document.documentMode:null;ot&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);ot&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);ot&&"InputEvent"in window&&!Rs&&"getTargetRanges"in new window.InputEvent("input");ot&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);const Ms=ot&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Xt={tag:"history-merge"};class Lt extends g.ElementNode{static getType(){return"quote"}static clone(e){return new Lt(e.__key)}constructor(e){super(e)}createDOM(e){const t=document.createElement("blockquote");return Fe.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}insertNewAfter(){const e=g.$createParagraphNode(),t=this.getDirection();return e.setDirection(t),this.insertAfter(e),e}collapseAtStart(){const e=g.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}}class Ft extends g.ElementNode{static getType(){return"heading"}static clone(e){return new Ft(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){const t=this.__tag,r=document.createElement(t);return e=e.theme.heading,e!==void 0&&Fe.addClassNamesToElement(r,e[t]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:ct,priority:0}),h2:()=>({conversion:ct,priority:0}),h3:()=>({conversion:ct,priority:0}),h4:()=>({conversion:ct,priority:0}),h5:()=>({conversion:ct,priority:0})}}insertNewAfter(){const e=g.$createParagraphNode(),t=this.getDirection();return e.setDirection(t),this.insertAfter(e),e}collapseAtStart(){const e=g.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}}function ct(n){n=n.nodeName.toLowerCase();let e=null;return(n==="h1"||n==="h2"||n==="h3"||n==="h4"||n==="h5")&&(e=po(n)),{node:e}}function po(n){return new Ft(n)}function Ds(n,e){if(e!==null){if(e===void 0)n.update(()=>{var t=g.$getRoot();if(t.getFirstChild()===null){const r=g.$createParagraphNode();t.append(r),t=document.activeElement,(g.$getSelection()!==null||t!==null&&t===n.getRootElement())&&r.select()}},Xt);else if(e!==null)switch(typeof e){case"string":e=n.parseEditorState(e),n.setEditorState(e,Xt);break;case"object":n.setEditorState(e,Xt);break;case"function":n.update(e,Xt)}}}function Is(n,e){n.preventDefault(),e.update(()=>{const t=g.$getSelection(),r=n.clipboardData;r!=null&&g.$isRangeSelection(t)&&gn.$insertDataTransferForRichText(r,t,e)})}function _o(n,e){n.preventDefault(),e.update(()=>{const t=n.clipboardData,r=g.$getSelection();if(r!==null&&t!=null){const i=gn.getHtmlContent(e),o=gn.$getLexicalContent(e);i!==null&&t.setData("text/html",i),o!==null&&t.setData("application/x-lexical-editor",o),t.setData("text/plain",r.getTextContent())}})}function Ps(n,e){_o(n,e),e.update(()=>{const t=g.$getSelection();g.$isRangeSelection(t)&&t.removeText()})}ke.$createHeadingNode=po;ke.$createQuoteNode=function(){return new Lt};ke.$isHeadingNode=function(n){return n instanceof Ft};ke.$isQuoteNode=function(n){return n instanceof Lt};ke.HeadingNode=Ft;ke.QuoteNode=Lt;ke.registerRichText=function(n,e){const t=Fe.mergeRegister(n.registerCommand(g.CLICK_COMMAND,()=>{const r=g.$getSelection();return g.$isNodeSelection(r)?(r.clear(),!0):!1},0),n.registerCommand(g.DELETE_CHARACTER_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(i.deleteCharacter(r),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.DELETE_WORD_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(i.deleteWord(r),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.DELETE_LINE_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(i.deleteLine(r),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.INSERT_TEXT_COMMAND,r=>{const i=g.$getSelection();if(!g.$isRangeSelection(i))return!1;if(typeof r=="string")i.insertText(r);else{const o=r.dataTransfer;o!=null?gn.$insertDataTransferForRichText(o,i,n):(r=r.data)&&i.insertText(r)}return!0},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.REMOVE_TEXT_COMMAND,()=>{const r=g.$getSelection();return g.$isRangeSelection(r)?(r.removeText(),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.FORMAT_TEXT_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(i.formatText(r),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.FORMAT_ELEMENT_COMMAND,r=>{var i=g.$getSelection();if(!g.$isRangeSelection(i)&&!g.$isNodeSelection(i))return!1;i=i.getNodes();for(const o of i)Fe.$getNearestBlockElementAncestorOrThrow(o).setFormat(r);return!0},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.INSERT_LINE_BREAK_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(i.insertLineBreak(r),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.INSERT_PARAGRAPH_COMMAND,()=>{const r=g.$getSelection();return g.$isRangeSelection(r)?(r.insertParagraph(),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.INDENT_CONTENT_COMMAND,()=>{var r=g.$getSelection();return g.$isRangeSelection(r)?(r=Fe.$getNearestBlockElementAncestorOrThrow(r.anchor.getNode()),r.canInsertTab()?n.dispatchCommand(g.INSERT_TEXT_COMMAND,"	"):r.getIndent()!==10&&r.setIndent(r.getIndent()+1),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.OUTDENT_CONTENT_COMMAND,()=>{var r=g.$getSelection();if(!g.$isRangeSelection(r))return!1;r=r.anchor;const i=r.getNode(),o=Fe.$getNearestBlockElementAncestorOrThrow(r.getNode());return o.canInsertTab()?i.getTextContent()[r.offset-1]==="	"&&n.dispatchCommand(g.DELETE_CHARACTER_COMMAND,!0):o.getIndent()!==0&&o.setIndent(o.getIndent()-1),!0},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.KEY_ARROW_LEFT_COMMAND,r=>{const i=g.$getSelection();if(!g.$isRangeSelection(i))return!1;const o=r.shiftKey;return Vt.$shouldOverrideDefaultCharacterSelection(i,!0)?(r.preventDefault(),Vt.$moveCharacter(i,o,!0),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.KEY_ARROW_RIGHT_COMMAND,r=>{const i=g.$getSelection();if(!g.$isRangeSelection(i))return!1;const o=r.shiftKey;return Vt.$shouldOverrideDefaultCharacterSelection(i,!1)?(r.preventDefault(),Vt.$moveCharacter(i,o,!1),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.KEY_BACKSPACE_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(r.preventDefault(),{anchor:r}=i,i.isCollapsed()&&r.offset===0&&0<Fe.$getNearestBlockElementAncestorOrThrow(r.getNode()).getIndent()?n.dispatchCommand(g.OUTDENT_CONTENT_COMMAND):n.dispatchCommand(g.DELETE_CHARACTER_COMMAND,!0)):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.KEY_DELETE_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(r.preventDefault(),n.dispatchCommand(g.DELETE_CHARACTER_COMMAND,!1)):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.KEY_ENTER_COMMAND,r=>{const i=g.$getSelection();if(!g.$isRangeSelection(i))return!1;if(r!==null){if(Ms)return!1;if(r.preventDefault(),r.shiftKey)return n.dispatchCommand(g.INSERT_LINE_BREAK_COMMAND)}return n.dispatchCommand(g.INSERT_PARAGRAPH_COMMAND)},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.KEY_TAB_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(r.preventDefault(),n.dispatchCommand(r.shiftKey?g.OUTDENT_CONTENT_COMMAND:g.INDENT_CONTENT_COMMAND)):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.KEY_ESCAPE_COMMAND,()=>{const r=g.$getSelection();return g.$isRangeSelection(r)?(n.blur(),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.DROP_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(r.preventDefault(),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.DRAGSTART_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)?(r.preventDefault(),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.COPY_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)||g.$isGridSelection(i)?(_o(r,n),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.CUT_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)||g.$isGridSelection(i)?(Ps(r,n),!0):!1},g.COMMAND_PRIORITY_EDITOR),n.registerCommand(g.PASTE_COMMAND,r=>{const i=g.$getSelection();return g.$isRangeSelection(i)||g.$isGridSelection(i)?(Is(r,n),!0):!1},g.COMMAND_PRIORITY_EDITOR));return Ds(n,e),t};const Ls=ke;var Cn=Ls,yr={},he={},mo={exports:{}};(function(n){var e=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,s={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function p(h){return h instanceof a?new a(h.type,p(h.content),h.alias):Array.isArray(h)?h.map(p):h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++o}),p.__id},clone:function p(h,T){T=T||{};var E,v;switch(l.util.type(h)){case"Object":if(v=l.util.objId(h),T[v])return T[v];E={},T[v]=E;for(var S in h)h.hasOwnProperty(S)&&(E[S]=p(h[S],T));return E;case"Array":return v=l.util.objId(h),T[v]?T[v]:(E=[],T[v]=E,h.forEach(function(P,w){E[w]=p(P,T)}),E);default:return h}},getLanguage:function(p){for(;p;){var h=i.exec(p.className);if(h)return h[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,h){p.className=p.className.replace(RegExp(i,"gi"),""),p.classList.add("language-"+h)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(E){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(E.stack)||[])[1];if(p){var h=document.getElementsByTagName("script");for(var T in h)if(h[T].src==p)return h[T]}return null}},isActive:function(p,h,T){for(var E="no-"+h;p;){var v=p.classList;if(v.contains(h))return!0;if(v.contains(E))return!1;p=p.parentElement}return!!T}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(p,h){var T=l.util.clone(l.languages[p]);for(var E in h)T[E]=h[E];return T},insertBefore:function(p,h,T,E){E=E||l.languages;var v=E[p],S={};for(var P in v)if(v.hasOwnProperty(P)){if(P==h)for(var w in T)T.hasOwnProperty(w)&&(S[w]=T[w]);T.hasOwnProperty(P)||(S[P]=v[P])}var G=E[p];return E[p]=S,l.languages.DFS(l.languages,function(Y,Ee){Ee===G&&Y!=p&&(this[Y]=S)}),S},DFS:function p(h,T,E,v){v=v||{};var S=l.util.objId;for(var P in h)if(h.hasOwnProperty(P)){T.call(h,P,h[P],E||P);var w=h[P],G=l.util.type(w);G==="Object"&&!v[S(w)]?(v[S(w)]=!0,p(w,T,null,v)):G==="Array"&&!v[S(w)]&&(v[S(w)]=!0,p(w,T,P,v))}}},plugins:{},highlightAll:function(p,h){l.highlightAllUnder(document,p,h)},highlightAllUnder:function(p,h,T){var E={callback:T,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",E),E.elements=Array.prototype.slice.apply(E.container.querySelectorAll(E.selector)),l.hooks.run("before-all-elements-highlight",E);for(var v=0,S;S=E.elements[v++];)l.highlightElement(S,h===!0,E.callback)},highlightElement:function(p,h,T){var E=l.util.getLanguage(p),v=l.languages[E];l.util.setLanguage(p,E);var S=p.parentElement;S&&S.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(S,E);var P=p.textContent,w={element:p,language:E,grammar:v,code:P};function G(Ee){w.highlightedCode=Ee,l.hooks.run("before-insert",w),w.element.innerHTML=w.highlightedCode,l.hooks.run("after-highlight",w),l.hooks.run("complete",w),T&&T.call(w.element)}if(l.hooks.run("before-sanity-check",w),S=w.element.parentElement,S&&S.nodeName.toLowerCase()==="pre"&&!S.hasAttribute("tabindex")&&S.setAttribute("tabindex","0"),!w.code){l.hooks.run("complete",w),T&&T.call(w.element);return}if(l.hooks.run("before-highlight",w),!w.grammar){G(l.util.encode(w.code));return}if(h&&r.Worker){var Y=new Worker(l.filename);Y.onmessage=function(Ee){G(Ee.data)},Y.postMessage(JSON.stringify({language:w.language,code:w.code,immediateClose:!0}))}else G(l.highlight(w.code,w.grammar,w.language))},highlight:function(p,h,T){var E={code:p,grammar:h,language:T};if(l.hooks.run("before-tokenize",E),!E.grammar)throw new Error('The language "'+E.language+'" has no grammar.');return E.tokens=l.tokenize(E.code,E.grammar),l.hooks.run("after-tokenize",E),a.stringify(l.util.encode(E.tokens),E.language)},tokenize:function(p,h){var T=h.rest;if(T){for(var E in T)h[E]=T[E];delete h.rest}var v=new c;return f(v,v.head,p),u(p,v,h,v.head,0),_(v)},hooks:{all:{},add:function(p,h){var T=l.hooks.all;T[p]=T[p]||[],T[p].push(h)},run:function(p,h){var T=l.hooks.all[p];if(!(!T||!T.length))for(var E=0,v;v=T[E++];)v(h)}},Token:a};r.Prism=l;function a(p,h,T,E){this.type=p,this.content=h,this.alias=T,this.length=(E||"").length|0}a.stringify=function p(h,T){if(typeof h=="string")return h;if(Array.isArray(h)){var E="";return h.forEach(function(G){E+=p(G,T)}),E}var v={type:h.type,content:p(h.content,T),tag:"span",classes:["token",h.type],attributes:{},language:T},S=h.alias;S&&(Array.isArray(S)?Array.prototype.push.apply(v.classes,S):v.classes.push(S)),l.hooks.run("wrap",v);var P="";for(var w in v.attributes)P+=" "+w+'="'+(v.attributes[w]||"").replace(/"/g,"&quot;")+'"';return"<"+v.tag+' class="'+v.classes.join(" ")+'"'+P+">"+v.content+"</"+v.tag+">"};function d(p,h,T,E){p.lastIndex=h;var v=p.exec(T);if(v&&E&&v[1]){var S=v[1].length;v.index+=S,v[0]=v[0].slice(S)}return v}function u(p,h,T,E,v,S){for(var P in T)if(!(!T.hasOwnProperty(P)||!T[P])){var w=T[P];w=Array.isArray(w)?w:[w];for(var G=0;G<w.length;++G){if(S&&S.cause==P+","+G)return;var Y=w[G],Ee=Y.inside,Wt=!!Y.lookbehind,De=!!Y.greedy,xe=Y.alias;if(De&&!Y.pattern.global){var Ce=Y.pattern.toString().match(/[imsuy]*$/)[0];Y.pattern=RegExp(Y.pattern.source,Ce+"g")}for(var Ie=Y.pattern||Y,j=E.next,ve=v;j!==h.tail&&!(S&&ve>=S.reach);ve+=j.value.length,j=j.next){var Ge=j.value;if(h.length>p.length)return;if(!(Ge instanceof a)){var zt=1,pe;if(De){if(pe=d(Ie,ve,p,Wt),!pe||pe.index>=p.length)break;var Ut=pe.index,Mo=pe.index+pe[0].length,Oe=ve;for(Oe+=j.value.length;Ut>=Oe;)j=j.next,Oe+=j.value.length;if(Oe-=j.value.length,ve=Oe,j.value instanceof a)continue;for(var at=j;at!==h.tail&&(Oe<Mo||typeof at.value=="string");at=at.next)zt++,Oe+=at.value.length;zt--,Ge=p.slice(ve,Oe),pe.index-=ve}else if(pe=d(Ie,0,Ge,Wt),!pe)continue;var Ut=pe.index,Gt=pe[0],An=Ge.slice(0,Ut),Nr=Ge.slice(Ut+Gt.length),wn=ve+Ge.length;S&&wn>S.reach&&(S.reach=wn);var Ht=j.prev;An&&(Ht=f(h,Ht,An),ve+=An.length),m(h,Ht,zt);var Do=new a(P,Ee?l.tokenize(Gt,Ee):Gt,xe,Gt);if(j=f(h,Ht,Do),Nr&&f(h,j,Nr),zt>1){var $n={cause:P+","+G,reach:wn};u(p,h,T,j.prev,ve,$n),S&&$n.reach>S.reach&&(S.reach=$n.reach)}}}}}}function c(){var p={value:null,prev:null,next:null},h={value:null,prev:p,next:null};p.next=h,this.head=p,this.tail=h,this.length=0}function f(p,h,T){var E=h.next,v={value:T,prev:h,next:E};return h.next=v,E.prev=v,p.length++,v}function m(p,h,T){for(var E=h.next,v=0;v<T&&E!==p.tail;v++)E=E.next;h.next=E,E.prev=h,p.length-=v}function _(p){for(var h=[],T=p.head.next;T!==p.tail;)h.push(T.value),T=T.next;return h}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(p){var h=JSON.parse(p.data),T=h.language,E=h.code,v=h.immediateClose;r.postMessage(l.highlight(E,l.languages[T],T)),v&&r.close()},!1)),l;var A=l.util.currentScript();A&&(l.filename=A.src,A.hasAttribute("data-manual")&&(l.manual=!0));function I(){l.manual||l.highlightAll()}if(!l.manual){var k=document.readyState;k==="loading"||k==="interactive"&&A&&A.defer?document.addEventListener("DOMContentLoaded",I):window.requestAnimationFrame?window.requestAnimationFrame(I):window.setTimeout(I,16)}return l}(e);n.exports&&(n.exports=t),typeof Sr!="undefined"&&(Sr.Prism=t)})(mo);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(u){return u=u.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(c){u!==c&&(n.languages.markdown[u].inside.content.inside[c]=n.languages.markdown[c])})}),n.hooks.add("after-tokenize",function(u){if(u.language!=="markdown"&&u.language!=="md")return;function c(f){if(!(!f||typeof f=="string"))for(var m=0,_=f.length;m<_;m++){var A=f[m];if(A.type!=="code"){c(A.content);continue}var I=A.content[1],k=A.content[3];if(I&&k&&I.type==="code-language"&&k.type==="code-block"&&typeof I.content=="string"){var p=I.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");p=(/[a-z][\w-]*/i.exec(p)||[""])[0].toLowerCase();var h="language-"+p;k.alias?typeof k.alias=="string"?k.alias=[k.alias,h]:k.alias.push(h):k.alias=[h]}}}c(u.tokens)}),n.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var c="",f=0,m=u.classes.length;f<m;f++){var _=u.classes[f],A=/language-(.+)/.exec(_);if(A){c=A[1];break}}var I=n.languages[c];if(I)u.content=n.highlight(d(u.content),I,c);else if(c&&c!=="none"&&n.plugins.autoloader){var k="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);u.attributes.id=k,n.plugins.autoloader.loadLanguages(c,function(){var p=document.getElementById(k);p&&(p.innerHTML=n.highlight(p.textContent,n.languages[c],c))})}}});var s=RegExp(n.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function d(u){var c=u.replace(s,"");return c=c.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(f,m){if(m=m.toLowerCase(),m[0]==="#"){var _;return m[1]==="x"?_=parseInt(m.slice(2),16):_=Number(m.slice(1)),a(_)}else{var A=l[m];return A||f}}),c}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});var pt=mo.exports,_t=xn,$=se;class Ke extends $.TextNode{constructor(e,t,r){super(e,r),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new Ke(e.__text,e.__highlightType||void 0,e.__key)}createDOM(e){const t=super.createDOM(e);return e=Fn(e.theme,this.__highlightType),_t.addClassNamesToElement(t,e),t}updateDOM(e,t,r){const i=super.updateDOM(e,t,r);return e=Fn(r.theme,e.__highlightType),r=Fn(r.theme,this.__highlightType),e!==r&&(e&&_t.removeClassNamesFromElement(t,e),r&&_t.addClassNamesToElement(t,r)),i}setFormat(){return this.getWritable()}}function Fn(n,e){return e&&n&&n.codeHighlight&&n.codeHighlight[e]}function Ze(n,e){return new Ke(n,e)}function _e(n){return n instanceof Ke}class $e extends $.ElementNode{static getType(){return"code"}static clone(e){return new $e(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e}createDOM(e){const t=document.createElement("code");return _t.addClassNamesToElement(t,e.theme.code),t.setAttribute("spellcheck","false"),(e=this.getLanguage())&&t.setAttribute("data-highlight-language",e),t}updateDOM(e,t){const r=this.__language;return e=e.__language,r?r!==e&&t.setAttribute("data-highlight-language",r):e&&t.removeAttribute("data-highlight-language"),!1}static importDOM(){return{div:()=>({conversion:bs,priority:1}),pre:()=>({conversion:Fs,priority:0}),table:e=>bn(e)?{conversion:Bs,priority:4}:null,td:e=>{const t=e.closest("table");return e.classList.contains("js-file-line")?{conversion:Ks,priority:4}:t&&bn(t)?{conversion:Ur,priority:4}:null},tr:e=>(e=e.closest("table"))&&bn(e)?{conversion:Ur,priority:4}:null}}insertNewAfter(e){var t=this.getChildren(),r=t.length;if(2<=r&&t[r-1].getTextContent()===`
`&&t[r-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r)return t[r-1].remove(),t[r-2].remove(),e=$.$createParagraphNode(),this.insertAfter(e),e;t=e.anchor.getNode();var i=Ot(t);if(i!=null){for(r=0,i=i.getTextContent();r<i.length&&/[\t ]/.test(i[r]);)r+=1;if(0<r)return r=i.substring(0,r),r=Ze(r),t.insertAfter(r),e.insertNodes([$.$createLineBreakNode()]),r.select(),r}return null}canInsertTab(){return!0}collapseAtStart(){const e=$.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){this.getWritable().__language=e}getLanguage(){return this.getLatest().__language}}function Sn(n){return new $e(n)}function yo(n){return n instanceof $e}function Ot(n){let e=null;const t=n.getPreviousSiblings();for(t.push(n);0<t.length&&(n=t.pop(),_e(n)&&(e=n),!$.$isLineBreakNode(n)););return e}function qn(n){let e=null;const t=n.getNextSiblings();for(t.unshift(n);0<t.length&&(n=t.shift(),_e(n)&&(e=n),!$.$isLineBreakNode(n)););return e}function Fs(){return{node:Sn()}}function bs(n){return{after:e=>{const t=n.parentNode;return t!=null&&n!==t.lastChild&&e.push($.$createLineBreakNode()),e},node:n.style.fontFamily.match("monospace")!==null?Sn():null}}function Bs(){return{node:Sn()}}function Ur(){return{node:null}}function Ks(n){return{after:e=>(n.parentNode&&n.parentNode.nextSibling&&e.push($.$createLineBreakNode()),e),node:null}}function bn(n){return n.classList.contains("js-file-line-container")}function Gr(n,e){const t=n.getParent();yo(t)?To(t,e):_e(n)&&n.replace($.$createTextNode(n.__text))}let Bn=!1;function To(n,e){Bn||(Bn=!0,n.getLanguage()===void 0&&n.setLanguage("javascript"),e.update(()=>{Ws(n,()=>{var t=n.getTextContent();t=pt.tokenize(t,pt.languages[n.getLanguage()||""]||pt.languages.javascript),t=Eo(t);var r=n.getChildren();let i=0;for(;i<r.length&&Hr(r[i],t[i]);)i++;var o=r.length;const s=t.length,l=Math.min(o,s)-i;let a=0;for(;a<l;)if(a++,!Hr(r[o-a],t[s-a])){a--;break}r=i,o-=a,t=t.slice(i,s-a);const{from:d,to:u,nodesForReplacement:c}={from:r,nodesForReplacement:t,to:o};return d!==u||c.length?(n.splice(d,u-d,c),!0):!1})},{onUpdate:()=>{Bn=!1},skipTransforms:!0}))}function Eo(n){const e=[];return n.forEach(t=>{if(typeof t=="string"){t=t.split(`
`);for(var r=0;r<t.length;r++){const i=t[r];i.length&&e.push(Ze(i)),r<t.length-1&&e.push($.$createLineBreakNode())}}else({content:r}=t),typeof r=="string"?e.push(Ze(r,t.type)):r.length===1&&typeof r[0]=="string"?e.push(Ze(r[0],t.type)):e.push(...Eo(r))}),e}function Ws(n,e){var t=$.$getSelection();if($.$isRangeSelection(t)&&t.anchor){t=t.anchor;var r=t.offset,i=t.type==="element"&&$.$isLineBreakNode(n.getChildAtIndex(t.offset-1)),o=0;if(!i){const s=t.getNode();o=r+s.getPreviousSiblings().reduce((l,a)=>l+($.$isLineBreakNode(a)?0:a.getTextContentSize()),0)}e()&&(i?t.getNode().select(r,r):n.getChildren().some(s=>{if($.$isTextNode(s)){const l=s.getTextContentSize();if(l>=o)return s.select(o,o),!0;o-=l}return!1}))}}function Hr(n,e){return _e(n)&&_e(e)?n.__text===e.__text&&n.__highlightType===e.__highlightType:!!($.$isLineBreakNode(n)&&$.$isLineBreakNode(e))}function Yr(n){var e=$.$getSelection();if(!$.$isRangeSelection(e)||e.isCollapsed())return!1;e=e.getNodes();for(var t=0;t<e.length;t++){var r=e[t];if(!_e(r)&&!$.$isLineBreakNode(r))return!1}for(t=Ot(e[0]),t!=null&&jr(t,n),t=1;t<e.length;t++)r=e[t],$.$isLineBreakNode(e[t-1])&&_e(r)&&jr(r,n);return!0}function jr(n,e){const t=n.getTextContent();e===$.INDENT_CONTENT_COMMAND?0<t.length&&/\s/.test(t[0])?n.setTextContent("	"+t):(e=Ze("	"),n.insertBefore(e)):t.indexOf("	")===0&&(t.length===1?n.remove():n.setTextContent(t.substring(1)))}function Vr(n,e){const t=$.$getSelection();if(!$.$isRangeSelection(t))return!1;const{anchor:r,focus:i}=t,o=r.offset,s=i.offset,l=r.getNode(),a=i.getNode();var d=n===$.KEY_ARROW_UP_COMMAND;if(!_e(l)||!_e(a))return!1;if(!e.altKey){if(t.isCollapsed()){if(n=l.getParentOrThrow(),d&&o===0&&l.getPreviousSibling()===null){if(n.getPreviousSibling()===null)return n.selectPrevious(),e.preventDefault(),!0}else if(!d&&o===l.getTextContentSize()&&l.getNextSibling()===null&&n.getNextSibling()===null)return n.selectNext(),e.preventDefault(),!0}return!1}var u=Ot(l);const c=qn(a);if(u==null||c==null)return!1;const f=u.getNodesBetween(c);for(let _=0;_<f.length;_++){const A=f[_];if(!_e(A)&&!$.$isLineBreakNode(A))return!1}if(e.preventDefault(),e.stopPropagation(),e=d?u.getPreviousSibling():c.getNextSibling(),!$.$isLineBreakNode(e)||(u=d?e.getPreviousSibling():e.getNextSibling(),u==null))return!0;d=d?Ot(u):qn(u);let m=d!=null?d:u;return e.remove(),f.forEach(_=>_.remove()),n===$.KEY_ARROW_UP_COMMAND?(f.forEach(_=>m.insertBefore(_)),m.insertBefore(e)):(m.insertAfter(e),m=e,f.forEach(_=>{m.insertAfter(_),m=_})),t.setTextNodeRange(l,o,a,s),!0}he.$createCodeHighlightNode=Ze;he.$createCodeNode=Sn;he.$isCodeHighlightNode=_e;he.$isCodeNode=yo;he.CodeHighlightNode=Ke;he.CodeNode=$e;he.getCodeLanguages=()=>Object.keys(pt.languages).filter(n=>typeof pt.languages[n]!="function").sort();he.getDefaultCodeLanguage=()=>"javascript";he.getFirstCodeHighlightNodeOfLine=Ot;he.getLastCodeHighlightNodeOfLine=qn;he.registerCodeHighlighting=function(n){if(!n.hasNodes([$e,Ke]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return _t.mergeRegister(n.registerMutationListener($e,e=>{n.update(()=>{for(const[i,o]of e)if(o!=="destroyed"){var t=$.$getNodeByKey(i);if(t!==null)e:{var r=t;if(t=n.getElementByKey(r.getKey()),t===null)break e;r=r.getChildren();const s=r.length;if(s===t.__cachedChildrenLength)break e;t.__cachedChildrenLength=s;let l="1",a=1;for(let d=0;d<s;d++)$.$isLineBreakNode(r[d])&&(l+=`
`+ ++a);t.setAttribute("data-gutter",l)}}})}),n.registerNodeTransform($e,e=>To(e,n)),n.registerNodeTransform($.TextNode,e=>Gr(e,n)),n.registerNodeTransform(Ke,e=>Gr(e,n)),n.registerCommand($.INDENT_CONTENT_COMMAND,()=>Yr($.INDENT_CONTENT_COMMAND),$.COMMAND_PRIORITY_LOW),n.registerCommand($.OUTDENT_CONTENT_COMMAND,()=>Yr($.OUTDENT_CONTENT_COMMAND),$.COMMAND_PRIORITY_LOW),n.registerCommand($.KEY_ARROW_UP_COMMAND,e=>Vr($.KEY_ARROW_UP_COMMAND,e),$.COMMAND_PRIORITY_LOW),n.registerCommand($.KEY_ARROW_DOWN_COMMAND,e=>Vr($.KEY_ARROW_DOWN_COMMAND,e),$.COMMAND_PRIORITY_LOW))};const zs=he;var Us=zs,Q={},K=se,At=xn;function bt(n){throw Error(`Minified Lexical error #${n}; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function vo(n){let e=1;for(n=n.getParent();n!=null;){if(H(n)){if(n=n.getParent(),b(n)){e++,n=n.getParent();continue}bt(2)}break}return e}function er(n){n=n.getParent(),b(n)||bt(2);let e=n;for(;e!==null;)e=e.getParent(),b(e)&&(n=e);return n}function No(n){let e=[];n=n.getChildren().filter(H);for(let t=0;t<n.length;t++){const r=n[t],i=r.getFirstChild();b(i)?e=e.concat(No(i)):e.push(r)}return e}function Ye(n){return H(n)&&b(n.getFirstChild())}function Gs(n){for(;n.getNextSibling()==null&&n.getPreviousSibling()==null;){const e=n.getParent();if(e==null||!H(n)&&!b(n))break;n=e}n.remove()}function Xr(n,e){if(b(n))return n;const t=n.getPreviousSibling(),r=n.getNextSibling(),i=ye();return b(t)&&e===t.getTag()?(i.append(n),t.append(i),b(r)&&e===r.getTag()&&(t.append(...r.getChildren()),r.remove()),t):b(r)&&e===r.getTag()?(i.append(n),r.getFirstChildOrThrow().insertBefore(i),r):(e=Te(e),e.append(i),n.replace(e),i.append(n),e)}function xo(n){const e=new Set;n.forEach(t=>{if(!Ye(t)&&!e.has(t.getKey())){var r=t.getParent(),i=t.getNextSibling(),o=t.getPreviousSibling();if(Ye(i)&&Ye(o))o=o.getFirstChild(),b(o)&&(o.append(t),t=i.getFirstChild(),b(t)&&(t=t.getChildren(),o.append(...t),i.remove(),e.add(i.getKey())),o.getChildren().forEach(s=>s.markDirty()));else if(Ye(i))i=i.getFirstChild(),b(i)&&(o=i.getFirstChild(),o!==null&&o.insertBefore(t),i.getChildren().forEach(s=>s.markDirty()));else if(Ye(o))i=o.getFirstChild(),b(i)&&(i.append(t),i.getChildren().forEach(s=>s.markDirty()));else if(b(r)){const s=ye(),l=Te(r.getTag());s.append(l),l.append(t),o?o.insertAfter(s):i?i.insertBefore(s):r.append(s)}b(r)&&r.getChildren().forEach(s=>s.markDirty())}})}function Co(n){n.forEach(e=>{if(!Ye(e)){var t=e.getParent(),r=t?t.getParent():void 0,i=r?r.getParent():void 0;if(b(i)&&H(r)&&b(t)){var o=t?t.getFirstChild():void 0,s=t?t.getLastChild():void 0;if(e.is(o))r.insertBefore(e),t.isEmpty()&&r.remove();else if(e.is(s))r.insertAfter(e),t.isEmpty()&&r.remove();else{var l=t.getTag();o=ye();const a=Te(l);o.append(a),e.getPreviousSiblings().forEach(d=>a.append(d)),s=ye(),l=Te(l),s.append(l),l.append(...e.getNextSiblings()),r.insertBefore(o),r.insertAfter(s),r.replace(e)}t.getChildren().forEach(a=>a.markDirty()),i.getChildren().forEach(a=>a.markDirty())}}})}function So(n){var e=K.$getSelection();if(!K.$isRangeSelection(e))return!1;var t=e.getNodes(),r=[];if(t.length===0&&t.push(e.anchor.getNode()),t.length===1){e:{for(t=t[0];t!==null;){if(H(t))break e;t=t.getParent()}t=null}t!==null&&(r=[t])}else{for(r=new Set,e=0;e<t.length;e++){const i=t[e];H(i)&&r.add(i)}r=Array.from(r)}return 0<r.length?(n==="indent"?xo(r):Co(r),!0):!1}class st extends K.ElementNode{static getType(){return"listitem"}static clone(e){return new st(e.__key)}constructor(e){super(e)}createDOM(e){const t=document.createElement("li");return t.value=Zr(this),Qr(t,e.theme,this),t}updateDOM(e,t,r){return t.value=Zr(this),Qr(t,r.theme,this),!1}static importDOM(){return{li:()=>({conversion:Hs,priority:0})}}append(...e){for(let t=0;t<e.length;t++){const r=e[t];if(K.$isElementNode(r)&&this.canMergeWith(r)){const i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e){if(H(e))return super.replace(e);const t=this.getParentOrThrow();if(b(t)){var r=t.__children;const o=r.length;var i=r.indexOf(this.__key);if(i===0)t.insertBefore(e);else if(i===o-1)t.insertAfter(e);else{r=Te(t.getTag());const s=t.getChildren();for(i+=1;i<o;i++)r.append(s[i]);t.insertAfter(e),e.insertAfter(r)}this.remove(),o===1&&t.remove()}return e}insertAfter(e){var t=this.getNextSiblings();if(H(e))return t.forEach(i=>i.markDirty()),super.insertAfter(e);var r=this.getParentOrThrow();if(b(r)||bt(1),b(e)&&e.getTag()===r.getTag()){for(t=e,e=e.getChildren(),r=e.length-1;0<=r;r--)t=e[r],this.insertAfter(t);return t}if(r.insertAfter(e),t.length!==0){const i=Te(r.getTag());t.forEach(o=>i.append(o)),e.insertAfter(i)}return e}insertNewAfter(){const e=ye();return this.insertAfter(e),e}collapseAtStart(e){const t=K.$createParagraphNode();this.getChildren().forEach(s=>t.append(s));var r=this.getParentOrThrow(),i=r.getParentOrThrow();const o=H(i);return r.getChildrenSize()===1?o?(r.remove(),i.select()):(r.replace(t),r=e.anchor,e=e.focus,i=t.getKey(),r.type==="element"&&r.getNode().is(this)&&r.set(i,r.offset,"element"),e.type==="element"&&e.getNode().is(this)&&e.set(i,e.offset,"element")):(r.insertBefore(t),this.remove()),!0}getIndent(){let e=this.getParentOrThrow().getParentOrThrow(),t=0;for(;H(e);)e=e.getParentOrThrow().getParentOrThrow(),t++;return t}setIndent(e){let t=this.getIndent();for(;t!==e;)t<e?(xo([this]),t++):(Co([this]),t--);return this}insertBefore(e){const t=this.getNextSiblings();return H(e)&&t.forEach(r=>r.markDirty()),super.insertBefore(e)}canInsertAfter(e){return H(e)}canReplaceWith(e){return H(e)}canMergeWith(e){return K.$isParagraphNode(e)||H(e)}}function Zr(n){var e=n.getParent();let t=1;for(e!=null&&(b(e)?t=e.getStart():bt(47)),n=n.getPreviousSiblings(),e=0;e<n.length;e++){const r=n[e];H(r)&&!b(r.getFirstChild())&&t++}return t}function Qr(n,e,t){const r=[],i=[],o=(e=e.list)?e.listitem:void 0;if(e&&e.nested)var s=e.nested.listitem;o!==void 0&&(e=o.split(" "),r.push(...e)),s!==void 0&&(s=s.split(" "),t.getChildren().some(l=>b(l))?r.push(...s):i.push(...s)),0<r.length&&At.addClassNamesToElement(n,...r),0<i.length&&At.removeClassNamesFromElement(n,...i)}function Hs(){return{node:ye()}}function ye(){return new st}function H(n){return n instanceof st}class Bt extends K.ElementNode{static getType(){return"list"}static clone(e){return new Bt(e.__tag,e.__start,e.__key)}constructor(e,t,r){super(r),this.__tag=e,this.__start=t}getTag(){return this.__tag}getStart(){return this.__start}createDOM(e){const t=document.createElement(this.__tag);return this.__start!==1&&t.setAttribute("start",String(this.__start)),Jr(t,e.theme,this),t}updateDOM(e,t,r){return e.__tag!==this.__tag?!0:(Jr(t,r.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:qr,priority:0}),ul:()=>({conversion:qr,priority:0})}}canBeEmpty(){return!1}append(...e){for(let r=0;r<e.length;r++){var t=e[r];if(H(t))super.append(t);else{const i=ye();b(t)||(t=K.$createTextNode(t.getTextContent())),i.append(t),super.append(i)}}return this}}function Jr(n,e,t){const r=[],i=[];var o=e.list;if(o!==void 0){const l=o[t.__tag+"Depth"]||[];e=vo(t)-1;const a=e%l.length;var s=l[a];const d=o[t.__tag];let u;if(o=o.nested,o!==void 0&&o.list&&(u=o.list),d!==void 0&&r.push(d),s!==void 0)for(s=s.split(" "),r.push(...s),s=0;s<l.length;s++)s!==a&&i.push(t.__tag+s);u!==void 0&&(t=u.split(" "),1<e?r.push(...t):i.push(...t))}0<r.length&&At.addClassNamesToElement(n,...r),0<i.length&&At.removeClassNamesFromElement(n,...i)}function qr(n){n=n.nodeName.toLowerCase();let e=null;return(n==="ol"||n==="ul")&&(e=Te(n)),{node:e}}function Te(n,e=1){return new Bt(n,e)}function b(n){return n instanceof Bt}const Ys=K.createCommand(),js=K.createCommand(),Vs=K.createCommand();Q.$createListItemNode=ye;Q.$createListNode=Te;Q.$getListDepth=vo;Q.$handleListInsertParagraph=function(){var n=K.$getSelection();if(!K.$isRangeSelection(n)||!n.isCollapsed()||(n=n.anchor.getNode(),!H(n)||n.getTextContent()!==""))return!1;var e=er(n),t=n.getParent();b(t)||bt(2);const r=t.getParent();let i;if(K.$isRootNode(r))i=K.$createParagraphNode(),e.insertAfter(i);else if(H(r))i=ye(),r.insertAfter(i);else return!1;if(i.select(),e=n.getNextSiblings(),0<e.length){const o=Te(t.getTag());K.$isParagraphNode(i)?i.insertAfter(o):(t=ye(),t.append(o),i.insertAfter(t)),e.forEach(s=>{s.remove(),o.append(s)})}return Gs(n),!0};Q.$isListItemNode=H;Q.$isListNode=b;Q.INSERT_ORDERED_LIST_COMMAND=js;Q.INSERT_UNORDERED_LIST_COMMAND=Ys;Q.ListItemNode=st;Q.ListNode=Bt;Q.REMOVE_LIST_COMMAND=Vs;Q.indentList=function(){return So("indent")};Q.insertList=function(n,e){n.update(()=>{var t=K.$getSelection();if(K.$isRangeSelection(t)){var r=t.getNodes();t=t.anchor.getNode();var i=t.getParent();if(r.length===0)r=Te(e),K.$isRootNode(i)?(t.replace(r),t=ye(),r.append(t)):H(t)&&(t=t.getParentOrThrow(),r.append(...t.getChildren()),t.replace(r));else for(t=new Set,i=0;i<r.length;i++){var o=r[i];if(K.$isElementNode(o)&&o.isEmpty()&&!t.has(o.getKey()))Xr(o,e);else if(K.$isLeafNode(o))for(o=o.getParent();o!=null;){const l=o.getKey();if(b(o)){if(!t.has(l)){var s=Te(e);s.append(...o.getChildren()),o.replace(s),t.add(l)}break}else{if(s=o.getParent(),K.$isRootNode(s)&&!t.has(l)){t.add(l),Xr(o,e);break}o=s}}}}})};Q.outdentList=function(){return So("outdent")};Q.removeList=function(n){n.update(()=>{var e=K.$getSelection();if(K.$isRangeSelection(e)){const r=new Set,i=e.getNodes();if(e=e.anchor.getNode(),i.length===0&&H(e))r.add(er(e));else for(e=0;e<i.length;e++){var t=i[e];K.$isLeafNode(t)&&(t=At.$getNearestNodeOfType(t,st),t!=null&&r.add(er(t)))}r.forEach(o=>{let s=o;No(o).forEach(l=>{if(l!=null){const a=K.$createParagraphNode();a.append(...l.getChildren()),s.insertAfter(a),s=a,l.remove()}}),o.remove()})}})};const Xs=Q;var Zs=Xs,Me={},Qs=xn,fn=se;class lt extends fn.ElementNode{static getType(){return"link"}static clone(e){return new lt(e.__url,e.__key)}constructor(e,t){super(t),this.__url=e}createDOM(e){const t=document.createElement("a");return t.href=this.__url,Qs.addClassNamesToElement(t,e.theme.link),t}updateDOM(e,t){const r=this.__url;return r!==e.__url&&(t.href=r),!1}static importDOM(){return{a:()=>({conversion:Js,priority:1})}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}insertNewAfter(e){if(e=this.getParentOrThrow().insertNewAfter(e),fn.$isElementNode(e)){const t=Tr(this.__url);return e.append(t),t}return null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}}function Js(n){let e=null;return n instanceof HTMLAnchorElement&&(e=Tr(n.href)),{node:e}}function Tr(n){return new lt(n)}class Kt extends lt{static getType(){return"autolink"}static clone(e){return new Kt(e.__url,e.__key)}insertNewAfter(e){if(e=this.getParentOrThrow().insertNewAfter(e),fn.$isElementNode(e)){const t=Oo(this.__url);return e.append(t),t}return null}}function Oo(n){return new Kt(n)}const qs=fn.createCommand();Me.$createAutoLinkNode=Oo;Me.$createLinkNode=Tr;Me.$isAutoLinkNode=function(n){return n instanceof Kt};Me.$isLinkNode=function(n){return n instanceof lt};Me.AutoLinkNode=Kt;Me.LinkNode=lt;Me.TOGGLE_LINK_COMMAND=qs;const el=Me;var tl=el,Ne={},V=se;function Er(n,e=!0){return n?!1:(n=Ao(),e&&(n=n.trim()),n==="")}function Ao(){return V.$getRoot().getTextContent()}function wo(n){if(!Er(n,!1))return!1;n=V.$getRoot().getChildren();const e=n.length;if(1<e)return!1;for(let r=0;r<e;r++){var t=n[r];if(V.$isElementNode(t)){if(t.__type!=="paragraph"||t.__indent!==0)return!1;t=t.getChildren();const i=t.length;for(let o=0;o<i;o++)if(!V.$isTextNode(t[r]))return!1}}return!0}Ne.$canShowPlaceholder=wo;Ne.$canShowPlaceholderCurry=function(n){return()=>wo(n)};Ne.$findNodeWithOffsetFromJoinedText=function(n,e,t,r){r=r.getChildren();const i=r.length;let o=0,s=!1;for(let a=0;a<i&&!(o>e);++a){const d=r[a],u=V.$isTextNode(d);var l=u?d.getTextContent().length:t;if(l=o+l,(s===!1&&o===n||o===0&&o===n||o<n&&n<=l)&&V.$isTextNode(d))return{node:d,offset:n-o};o=l,s=u}return null};Ne.$findTextIntersectionFromCharacters=function(n,e){var t=n.getFirstChild();n=0;e:for(;t!==null;){if(V.$isElementNode(t)){var r=t.getFirstChild();if(r!==null){t=r;continue}}else if(V.$isTextNode(t)){if(r=t.getTextContentSize(),n+r>e)return{node:t,offset:e-n};n+=r}if(r=t.getNextSibling(),r!==null)t=r;else{for(t=t.getParent();t!==null;){if(r=t.getNextSibling(),r!==null){t=r;continue e}t=t.getParent()}break}}return null};Ne.$isRootTextContentEmpty=Er;Ne.$isRootTextContentEmptyCurry=function(n,e){return()=>Er(n,e)};Ne.$joinTextNodesInElementNode=function(n,e,t){let r="";n=n.getChildren();const i=n.length;for(let o=0;o<i;++o){const s=n[o];if(V.$isTextNode(s)){const l=s.getTextContent();if(s.is(t.node)){if(t.offset>l.length)throw Error("Minified Lexical error #50; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");r+=s.getTextContent().substr(0,t.offset);break}else r+=l}else r+=e}return r};Ne.$rootTextContentCurry=Ao;Ne.registerLexicalTextEntity=function(n,e,t,r){const i=s=>{const l=V.$createTextNode(s.getTextContent());l.setFormat(s.getFormat()),s.replace(l)},o=n.registerNodeTransform(V.TextNode,s=>{if(s.isSimpleText()){var l=s.getPreviousSibling(),a=s.getTextContent(),d=s;if(V.$isTextNode(l)){var u=l.getTextContent(),c=e(u+a);if(l instanceof t){if(c===null||l.getLatest().__mode!==0){i(l);return}if(c=c.end-u.length,0<c){d=a.slice(0,c),d=u+d,l.select(),l.setTextContent(d),c===a.length?s.remove():(l=a.slice(c),s.setTextContent(l));return}}else if(c===null||c.start<u.length)return}for(;;){if(s=e(a),a=c=s===null?"":a.slice(s.end),c===""){if(u=d.getNextSibling(),V.$isTextNode(u)){if(c=d.getTextContent()+u.getTextContent(),c=e(c),c===null){u instanceof t?i(u):u.markDirty();break}else if(c.start!==0)break}}else if(u=e(c),u!==null&&u.start===0)break;if(s===null)break;if(s.start===0&&V.$isTextNode(l)&&l.isTextEntity())continue;let f;if(s.start===0?[f,d]=d.splitText(s.end):[,f,d]=d.splitText(s.start,s.end),s=r(f),f.replace(s),d==null)break}}});return n=n.registerNodeTransform(t,s=>{var l=s.getTextContent();const a=e(l);a===null||a.start!==0?i(s):l.length>a.end?s.splitText(a.end):(l=s.getPreviousSibling(),V.$isTextNode(l)&&l.isTextEntity()&&(i(l),i(s)),l=s.getNextSibling(),V.$isTextNode(l)&&l.isTextEntity()&&(i(l),s instanceof t&&i(s)))}),[o,n]};const nl=Ne;var rl=nl,tr=Us,nn=Zs,M=se,il=tl,He=Cn,nr=rl;function On(n){throw Error(`Minified Lexical error #${n}; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const ei=[{triggerKind:"space_trigger",triggerString:" "}],le={markdownFormatKind:null,regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:!1},ue=B(L({},le),{requiresParagraphStart:!0}),rr=B(L({},ue),{markdownFormatKind:"paragraphCodeBlock",regEx:/^(```)$/,regExForAutoFormatting:/^(```)([a-z]*)( )/}),hn=[B(L({},le),{markdownFormatKind:"strikethrough_italic_bold",regEx:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)()/,regExForAutoFormatting:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)(\s)$/}),B(L({},le),{markdownFormatKind:"italic_bold",regEx:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)/,regExForAutoFormatting:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)(\s)$/}),B(L({},le),{markdownFormatKind:"strikethrough_italic",regEx:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)/,regExForAutoFormatting:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)(\s)$/}),B(L({},le),{markdownFormatKind:"strikethrough_bold",regEx:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)/,regExForAutoFormatting:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)(\s)$/}),B(L({},le),{markdownFormatKind:"code",regEx:/(`)([^`]*)(`)/,regExForAutoFormatting:/(`)(\s*\b)([^`]*)(\b\s*)(`)(\s)$/}),B(L({},le),{markdownFormatKind:"bold",regEx:/(\*\*)(\s*)([^\*\*]*)(\s*)(\*\*)()/,regExForAutoFormatting:/(\*\*)(\s*\b)([^\*\*]*)(\b\s*)(\*\*)(\s)$/}),B(L({},le),{markdownFormatKind:"italic",regEx:/(\*)(\s*)([^\*]*)(\s*)(\*)()/,regExForAutoFormatting:/(\*)(\s*\b)([^\*]*)(\b\s*)(\*)(\s)$/}),B(L({},le),{markdownFormatKind:"bold",regEx:/(__)(\s*)([^__]*)(\s*)(__)()/,regExForAutoFormatting:/(__)(\s*)([^__]*)(\s*)(__)(\s)$/}),B(L({},le),{markdownFormatKind:"italic",regEx:/(_)()([^_]*)()(_)()/,regExForAutoFormatting:/(_)()([^_]*)()(_)(\s)$/}),B(L({},le),{markdownFormatKind:"underline",regEx:/(<u>)(\s*)([^<]*)(\s*)(<\/u>)()/,regExForAutoFormatting:/(<u>)(\s*\b)([^<]*)(\b\s*)(<\/u>)(\s)$/}),B(L({},le),{markdownFormatKind:"strikethrough",regEx:/(~~)(\s*)([^~~]*)(\s*)(~~)()/,regExForAutoFormatting:/(~~)(\s*\b)([^~~]*)(\b\s*)(~~)(\s)$/}),B(L({},le),{markdownFormatKind:"link",regEx:/(\[)([^\]]*)(\]\()([^)]*)(\)*)()/,regExForAutoFormatting:/(\[)([^\]]*)(\]\()([^)]*)(\)*)(\s)$/})],ir=[B(L({},ue),{markdownFormatKind:"paragraphH1",regEx:/^(?:# )/,regExForAutoFormatting:/^(?:# )/}),B(L({},ue),{markdownFormatKind:"paragraphH2",regEx:/^(?:## )/,regExForAutoFormatting:/^(?:## )/}),B(L({},ue),{markdownFormatKind:"paragraphH3",regEx:/^(?:### )/,regExForAutoFormatting:/^(?:### )/}),B(L({},ue),{markdownFormatKind:"paragraphH4",regEx:/^(?:#### )/,regExForAutoFormatting:/^(?:#### )/}),B(L({},ue),{markdownFormatKind:"paragraphH5",regEx:/^(?:##### )/,regExForAutoFormatting:/^(?:##### )/}),B(L({},ue),{markdownFormatKind:"paragraphBlockQuote",regEx:/^(?:> )/,regExForAutoFormatting:/^(?:> )/}),B(L({},ue),{markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:- )/,regExForAutoFormatting:/^(\s{0,10})(?:- )/}),B(L({},ue),{markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:\* )/,regExForAutoFormatting:/^(\s{0,10})(?:\* )/}),B(L({},ue),{markdownFormatKind:"paragraphOrderedList",regEx:/^(\s{0,10})(\d+)\.\s/,regExForAutoFormatting:/^(\s{0,10})(\d+)\.\s/}),rr,B(L({},ue),{markdownFormatKind:"horizontalRule",regEx:/^(?:\*\*\*)$/,regExForAutoFormatting:/^(?:\*\*\* )/}),B(L({},ue),{markdownFormatKind:"horizontalRule",regEx:/^(?:---)$/,regExForAutoFormatting:/^(?:--- )/})],ol=[...ir,...hn];function $o(n,e,t,r){return{currentElementNode:null,editor:n,isAutoFormatting:e,isWithinCodeBlock:!1,joinedText:null,markdownCriteria:{markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},patternMatchResults:{regExCaptureGroups:[]},textNodeWithOffset:t,triggerState:r}}function pn(n){return n.joinedText=null,n.markdownCriteria={markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},n.patternMatchResults={regExCaptureGroups:[]},n.triggerState=null,n.textNodeWithOffset=null,n}function vr(n,e,t){return n.requiresParagraphStart===!0?(t=tt(e),t.node.getPreviousSibling()===null?(t=t.node.getTextContent(),n=or(t,!0,!1,e.isAutoFormatting?n.regExForAutoFormatting:n.regEx)):n=null,n):(e.joinedText==null&&(M.$isElementNode(t)?e.joinedText==null&&(e.joinedText=nr.$joinTextNodesInElementNode(t,"",tt(e))):On(52,t.__key)),or(e.joinedText,!1,n.regExForAutoFormatting===!0,e.isAutoFormatting?n.regExForAutoFormatting:n.regEx))}function or(n,e,t,r){const i={regExCaptureGroups:[]};if(r=n.match(r),r!==null&&0<r.length&&(e===!1||r.index===0)&&(t===!1||r.index+r[0].length===n.length)){for(n=r.length,e=r.index,t=0;t<n;t++){const o=r[t];i.regExCaptureGroups.push({offsetInParent:e,text:o}),0<t&&(e+=o.length)}return i}return null}function tt(n){return n=n.textNodeWithOffset,n==null&&On(82),n}function sl(n,e,t){var r=null,i=e.getChildren();const o=n.markdownCriteria,s=n.patternMatchResults;if(o.markdownFormatKind!=null)switch(o.markdownFormatKind){case"paragraphH1":r=He.$createHeadingNode("h1"),r.append(...i);break;case"paragraphH2":r=He.$createHeadingNode("h2"),r.append(...i);break;case"paragraphH3":r=He.$createHeadingNode("h3"),r.append(...i);break;case"paragraphH4":r=He.$createHeadingNode("h4"),r.append(...i);break;case"paragraphH5":r=He.$createHeadingNode("h5"),r.append(...i);break;case"paragraphBlockQuote":r=He.$createQuoteNode(),r.append(...i);break;case"paragraphUnorderedList":return ti(e,i,s,"ul"),{newNode:null,shouldDelete:!1};case"paragraphOrderedList":return r=1<s.regExCaptureGroups.length?s.regExCaptureGroups[s.regExCaptureGroups.length-1].text:"1",n=n.isAutoFormatting?parseInt(r,10):void 0,ti(e,i,s,"ol",n),{newNode:null,shouldDelete:!1};case"paragraphCodeBlock":if(n.isAutoFormatting===!1){if(0<n.patternMatchResults.regExCaptureGroups.length)return n.isWithinCodeBlock=n.isWithinCodeBlock!==!0,n.currentElementNode=null,{newNode:null,shouldDelete:!0};if(n.isWithinCodeBlock){if(n.currentElementNode==null)return e=tr.$createCodeNode(),e.append(...i),n.currentElementNode=e,{newNode:e,shouldDelete:!1};n.currentElementNode!=null&&(e=n.currentElementNode,n=M.$createLineBreakNode(),e.append(n),i.length&&e.append(n),e.append(...i))}return{newNode:null,shouldDelete:!0}}n.triggerState!=null&&n.triggerState.isCodeBlock?r=M.$createParagraphNode():(r=tr.$createCodeNode(),e=3<=s.regExCaptureGroups.length?s.regExCaptureGroups[2].text:null,e!=null&&0<e.length&&r.setLanguage(e)),r.append(...i);break;case"horizontalRule":t!=null&&(i=t(),e.insertBefore(i))}return{newNode:r,shouldDelete:!1}}function ti(n,e,t,r,i){const o=nn.$createListItemNode();t=(t=t.regExCaptureGroups[0].text.match(/^\s*/))?Math.floor(t[0].length/4):0,o.append(...e),e=n.getPreviousSibling(),nn.$isListNode(e)&&e.getTag()===r?(e.append(o),n.remove()):(r=nn.$createListNode(r,i),r.append(o),n.replace(r)),t&&o.setIndent(t)}function _n(n,e,t){if(n.markdownCriteria.requiresParagraphStart===!0){if(n.textNodeWithOffset!=null){var r=tt(n);0<n.patternMatchResults.regExCaptureGroups.length&&(r=r.node.spliceText(0,n.patternMatchResults.regExCaptureGroups[0].text.length,"",!0),r.getTextContent()===""&&(r.selectPrevious(),r.remove()))}const{newNode:s,shouldDelete:l}=sl(n,e,t);l?e.remove():s!==null&&e.replace(s)}else if(t=n.markdownCriteria,t.markdownFormatKind!=null){if(r=ll(t.markdownFormatKind),r!=null){if(t=r,n.patternMatchResults.regExCaptureGroups.length===7){if(Kn(5,5,n,e),Kn(1,1,n,e),r=n.patternMatchResults.regExCaptureGroups,3<r.length||On(65),r[3].text.length!==0&&(r=mt(3,3,!1,!0,n,e),r!=null&&(M.$setSelection(r),r=M.$getSelection(),M.$isRangeSelection(r))))for(var i=0;i<t.length;i++)r.formatText(t[i]);ni(n,e)}}else if(t.markdownFormatKind==="link"&&(t=n.patternMatchResults.regExCaptureGroups,t.length===7&&(i=t[2].text,t=t[4].text,i.length!==0&&t.length!==0))){if(Kn(1,5,n,e),r=n.patternMatchResults.regExCaptureGroups,!(1>=r.length)){i={offsetInParent:r[1].offsetInParent,text:i};var o=mt(1,1,!1,!1,n,e);if(o!=null&&(M.$setSelection(o),o=M.$getSelection(),o!=null&&M.$isRangeSelection(o)&&o.isCollapsed())){o.insertText(i.text),r.splice(1,0,i),i=i.text.length,o=r.length;for(let s=2;s<o;s++)r[s].offsetInParent+=i}}r=mt(1,1,!1,!0,n,e),r!=null&&(M.$setSelection(r),n.editor.dispatchCommand(il.TOGGLE_LINK_COMMAND,t),ni(n,e))}}}function ll(n){switch(n){case"italic":case"bold":case"underline":case"strikethrough":case"code":return[n];case"strikethrough_italic_bold":return["strikethrough","italic","bold"];case"italic_bold":return["italic","bold"];case"strikethrough_italic":return["strikethrough","italic"];case"strikethrough_bold":return["strikethrough","bold"]}return null}function mt(n,e,t,r,i,o){var s=i.patternMatchResults;i=s.regExCaptureGroups;var l=i.length;return n>=l||e>=l?null:(l=s.regExCaptureGroups.length,2>l?s=0:(--l,s=s.regExCaptureGroups[l].offsetInParent+s.regExCaptureGroups[l].text.length),n=i[n],e=i[e],r=r?e.offsetInParent+e.text.length:e.offsetInParent,t=nr.$findNodeWithOffsetFromJoinedText(t?n.offsetInParent+n.text.length:n.offsetInParent,s,1,o),r=nr.$findNodeWithOffsetFromJoinedText(r,s,1,o),t==null&&r==null&&o.getChildren().length===0?(t=M.$createRangeSelection(),t.anchor.set(o.getKey(),0,"element"),t.focus.set(o.getKey(),0,"element"),t):t==null||r==null?null:(o=M.$createRangeSelection(),o.anchor.set(t.node.getKey(),t.offset,"text"),o.focus.set(r.node.getKey(),r.offset,"text"),o))}function Kn(n,e,t,r){const i=t.patternMatchResults.regExCaptureGroups;if(t=mt(n,e,!1,!0,t,r),t!=null&&(M.$setSelection(t),t=M.$getSelection(),t!=null&&M.$isRangeSelection(t)&&t.isCollapsed()===!1)){t.removeText(),t=0,r=i.length;for(let o=n;o<r;o++){const s=i[o];o>n&&(s.offsetInParent-=t),o<=e&&(t+=s.text.length,s.text="")}}}function ni(n,e){var t=n.patternMatchResults.regExCaptureGroups.length;2>t||(--t,n=mt(t,t,!0,!0,n,e),n!=null&&M.$setSelection(n))}function al(n,e,t){n.update(()=>{const r=tt(e).node.getParentOrThrow();_n(e,r,t)},{tag:"history-push"})}function ul(n,e){let t=null;return n.getEditorState().read(()=>{var r=M.$getSelection();if(M.$isRangeSelection(r)){var i=r.anchor.getNode();r=M.$isTextNode(i)?{node:i,offset:r.anchor.offset}:null}else r=null;if(r!==null){r=$o(n,!0,r,e);e:{i=e.isParentAListItemNode===!1?ol:hn;const o=r.triggerState,s=i.length;for(let l=0;l<s;l++){const a=i[l];if(o!=null&&o.isCodeBlock===!1||a.markdownFormatKind==="paragraphCodeBlock"){const d=vr(a,r,tt(r).node.getParentOrThrow());if(d!=null){i={markdownCriteria:a,patternMatchResults:d};break e}}}i={markdownCriteria:null,patternMatchResults:null}}i.markdownCriteria!==null&&i.patternMatchResults!==null&&(t=r,t.markdownCriteria=i.markdownCriteria,t.patternMatchResults=i.patternMatchResults)}}),t}function dl(n){let e=null;return n.read(()=>{const t=M.$getSelection();if(M.$isRangeSelection(t)&&t.isCollapsed()){var r=t.anchor.getNode(),i=r.getParent(),o=nn.$isListItemNode(i);e={anchorOffset:t.anchor.offset,hasParentNode:i!==null,isCodeBlock:tr.$isCodeNode(r),isParentAListItemNode:o,isSelectionCollapsed:!0,isSimpleText:M.$isTextNode(r)&&r.isSimpleText(),nodeKey:r.getKey(),textContent:r.getTextContent()}}}),e}function ko(n,e,t){var r=e.getFirstChild();if(M.$isTextNode(r))e:{pn(n),r=hn.length;var i=e.getTextContent(),o=i.length===0;let d=0;for(;!o;){o=!0;for(let u=d;u<r;u++){var s=hn[u];if(n.textNodeWithOffset==null){t:{var l=e.getChildren(),a=l.length;for(--a;0<=a;a--)if(M.$isTextNode(l[a])){l=l[a];break t}l=null}if(l==null)break e;n.textNodeWithOffset={node:l,offset:l.getTextContent().length}}if(l=vr(s,n,e),l!=null){if(n.markdownCriteria=s,n.patternMatchResults=l,_n(n,e,t),pn(n),s=e.getTextContent(),s.length===0)break e;if(s!==i){i=s,d=u,o=!1;break}}}}}else for(e=e.getChildren(),r=e.length,i=0;i<r;i++)o=e[i],M.$isElementNode(o)&&ko(n,o,t)}yr.$convertFromMarkdownString=function(n,e,t){if(n.length){var r=[];n=n.split(`
`);for(var i=n.length,o=0;o<i;o++)0<n[o].length?r.push(M.$createParagraphNode().append(M.$createTextNode(n[o]))):r.push(M.$createParagraphNode());r.length?(n=M.$getRoot(),n.clear(),n.append(...r),r=n):r=null}else r=null;if(r!=null){for(e=$o(e,!1,null,null),r=M.$getRoot(),n=!1,i=0;!n;){n=!0;for(var s=r.getChildren(),l=s.length,a=i;a<l;a++){var d=s[a];if(M.$isElementNode(d)){o=e;var u=t,c=d.getTextContent();if(M.$isParagraphNode(d)){var f=d.getFirstChild(),m=M.$isTextNode(f);if(o.isWithinCodeBlock===!0)f!=null&&m&&(o.textNodeWithOffset={node:f,offset:0},f=rr,c=or(c,!0,!1,o.isAutoFormatting?f.regExForAutoFormatting:f.regEx),c!=null&&(o.patternMatchResults=c)),o.markdownCriteria=rr,_n(o,d,u);else if(d.getChildren().length)for(c=ir.length,o.joinedText=d.getTextContent(),f!=null&&m||On(80),o.textNodeWithOffset={node:f,offset:0},f=0;f<c&&(m=ir[f],m.requiresParagraphStart!==!1);f++){const _=vr(m,o,tt(o).node.getParentOrThrow());if(_!=null){o.markdownCriteria=m,o.patternMatchResults=_,_n(o,d,u);break}}}}if(pn(e),r.getChildren().length!==l){i=a,n=!1;break}}}for(n=!1,i=0;!n;)for(n=!0,o=r.getChildren(),s=o.length,l=i;l<s;l++)a=o[l],M.$isElementNode(a)&&ko(e,a,t),pn(e)}};yr.registerMarkdownShortcuts=function(n,e){let t=null;return n.registerUpdateListener(({tags:r})=>{if(r.has("historic")===!1){if(r=dl(n.getEditorState()),r==null)var i=null;else e:{i=r;var o=t;if(i==null||o==null)i=null;else{var s=ei.length;for(let l=0;l<s;l++){const a=ei[l].triggerString,d=a.length,u=i.textContent.length,c=i.anchorOffset-d;if((i.hasParentNode===!0&&i.isSimpleText&&i.isSelectionCollapsed&&i.anchorOffset!==o.anchorOffset&&0<=c&&c+d<=u&&i.textContent.substr(c,d)===a&&i.textContent!==o.textContent)===!1){i=null;break e}}i=ul(n,i)}}i!=null&&al(n,i,e),t=r}else t=null})};const cl=yr;var Ro=cl;const gl={onError:n=>{console.log(n),alert(n)},nodes:[Cn.HeadingNode]},We=se.createEditor(gl),fl=document.getElementById("editor");We.setRootElement(fl);Cn.registerRichText(We);Ro.registerMarkdownShortcuts(We,()=>new se.DecoratorNode);window.setMarkdownContent=function(n){We.update(()=>{Ro.$convertFromMarkdownString(n,We)})};window.executeFormatText=function(n){We.dispatchCommand(se.FORMAT_TEXT_COMMAND,n)};window.formatHeading=function(n){We.update(()=>{const e=se.$getSelection();se.$isRangeSelection(e)&&mr.$wrapLeafNodesInElements(e,()=>Cn.$createHeadingNode(n))})};
